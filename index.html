<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Alex Robenko">
<title>CommsDSL Specification v3.1.2</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>CommsDSL Specification v3.1.2</h1>
<div class="details">
<span id="author" class="author">Alex Robenko</span><br>
<span id="revnumber">version 3.1.2,</span>
<span id="revdate">2020-08</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#_specification_version">Specification Version</a></li>
<li><a href="#intro-schema-def">Schema Definition</a></li>
<li><a href="#intro-multiple-files">Multiple Files</a></li>
<li><a href="#intro-namespaces">Namespaces</a></li>
<li><a href="#intro-platforms">Platforms</a></li>
<li><a href="#intro-references">References to Elements</a></li>
<li><a href="#intro-properties">Properties</a></li>
<li><a href="#intro-numeric">Numeric Values</a></li>
<li><a href="#intro-boolean">Boolean Values</a></li>
<li><a href="#intro-names">Names</a></li>
<li><a href="#intro-protocol-versioning">Protocol Versioning</a></li>
</ul>
</li>
<li><a href="#schema-schema">Schema</a>
<ul class="sectlevel2">
<li><a href="#_protocol_name">Protocol Name</a></li>
<li><a href="#_endian">Endian</a></li>
<li><a href="#_description">Description</a></li>
<li><a href="#_protocol_schema_version">Protocol (Schema) Version</a></li>
<li><a href="#_dsl_version">DSL Version</a></li>
<li><a href="#_allowing_non_unique_message_ids">Allowing Non-Unique Message IDs</a></li>
</ul>
</li>
<li><a href="#fields-fields">Fields</a>
<ul class="sectlevel2">
<li><a href="#fields-common">Common Properties of Fields</a></li>
<li><a href="#fields-enum">&lt;enum&gt; Field</a></li>
<li><a href="#fields-int">&lt;int&gt; Field</a></li>
<li><a href="#fields-set">&lt;set&gt; Field</a></li>
<li><a href="#fields-bitfield">&lt;bitfield&gt; Field</a></li>
<li><a href="#fields-bundle">&lt;bundle&gt; Field</a></li>
<li><a href="#fields-string">&lt;string&gt; Field</a></li>
<li><a href="#fields-data">&lt;data&gt; Field</a></li>
<li><a href="#fields-list">&lt;list&gt; Field</a></li>
<li><a href="#fields-float">&lt;float&gt; Field</a></li>
<li><a href="#fields-ref">&lt;ref&gt; Field</a></li>
<li><a href="#fields-optional">&lt;optional&gt; Field</a></li>
<li><a href="#fields-variant">&lt;variant&gt; Field</a></li>
<li><a href="#fields-references">Referencing Values of Other Fields</a></li>
</ul>
</li>
<li><a href="#messages-messages">Messages</a>
<ul class="sectlevel2">
<li><a href="#_message_name">Message Name</a></li>
<li><a href="#messages-numeric-id">Numeric ID</a></li>
<li><a href="#_description_3">Description</a></li>
<li><a href="#_display_name">Display Name</a></li>
<li><a href="#_fields">Fields</a></li>
<li><a href="#_ordering">Ordering</a></li>
<li><a href="#_versioning_3">Versioning</a></li>
<li><a href="#_platforms">Platforms</a></li>
<li><a href="#_sender">Sender</a></li>
<li><a href="#_customization">Customization</a></li>
<li><a href="#_alias_names_to_member_fields_2">Alias Names to Member Fields</a></li>
</ul>
</li>
<li><a href="#interfaces-interfaces">Interfaces</a>
<ul class="sectlevel2">
<li><a href="#_interface_name">Interface Name</a></li>
<li><a href="#_description_4">Description</a></li>
<li><a href="#_more_about_fields">More About Fields</a></li>
<li><a href="#_alias_names_to_fields">Alias Names to Fields</a></li>
</ul>
</li>
<li><a href="#aliases-aliases">Aliases</a>
<ul class="sectlevel2">
<li><a href="#_description_5">Description</a></li>
<li><a href="#_more_on_aliases_in_message_es">More on Aliases in &lt;message&gt;-es</a></li>
<li><a href="#_more_on_aliases_in_interface_es">More on Aliases in &lt;interface&gt;-es</a></li>
<li><a href="#_more_on_aliases_in_bundle_es">More on Aliases in &lt;bundle&gt;-es</a></li>
</ul>
</li>
<li><a href="#frames-frames">Frames</a>
<ul class="sectlevel2">
<li><a href="#_name_2">Name</a></li>
<li><a href="#_description_6">Description</a></li>
<li><a href="#_layers">Layers</a></li>
<li><a href="#frames-common">Common Properties of Layers</a></li>
<li><a href="#frames-payload">&lt;payload&gt; Layer</a></li>
<li><a href="#frames-id">&lt;id&gt; Layer</a></li>
<li><a href="#frames-size">&lt;size&gt; Layer</a></li>
<li><a href="#frames-sync">&lt;sync&gt; Layer</a></li>
<li><a href="#frames-checksum">&lt;checksum&gt; Layer</a></li>
<li><a href="#frames-value">&lt;value&gt; Layer</a></li>
<li><a href="#frames-custom">&lt;custom&gt; Layer</a></li>
</ul>
</li>
<li><a href="#versioning-versioning">Protocol Versioning Summary</a>
<ul class="sectlevel2">
<li><a href="#_version_of_the_schema">Version of the Schema</a></li>
<li><a href="#_version_in_the_interface">Version in the Interface</a></li>
<li><a href="#_version_in_the_frame">Version in the Frame</a></li>
<li><a href="#_version_of_the_fields_and_messages">Version of the Fields and Messages</a></li>
<li><a href="#_version_dependency_of_the_code">Version Dependency of the Code</a></li>
<li><a href="#_compatibility_recommendation">Compatibility Recommendation</a></li>
</ul>
</li>
<li><a href="#appendix-appendix">Appendix</a>
<ul class="sectlevel2">
<li><a href="#appendix-schema">Properties of &lt;schema&gt;</a></li>
<li><a href="#appendix-fields">Common Properties of Fields</a></li>
<li><a href="#appendix-enum">Properties of &lt;enum&gt; Field</a></li>
<li><a href="#appendix-int">Properties of &lt;int&gt; Field</a></li>
<li><a href="#appendix-set">Properties of &lt;set&gt; Field</a></li>
<li><a href="#appendix-bitfield">Properties of &lt;bitfield&gt; Field</a></li>
<li><a href="#appendix-bundle">Properties of &lt;bundle&gt; Field</a></li>
<li><a href="#appendix-string">Properties of &lt;string&gt; Field</a></li>
<li><a href="#appendix-data">Properties of &lt;data&gt; Field</a></li>
<li><a href="#appendix-list">Properties of &lt;list&gt; Field</a></li>
<li><a href="#appendix-float">Properties of &lt;float&gt; Field</a></li>
<li><a href="#appendix-ref">Properties of &lt;ref&gt; Field</a></li>
<li><a href="#appendix-optional">Properties of &lt;optional&gt; Field</a></li>
<li><a href="#appendix-variant">Properties of &lt;variant&gt; Field</a></li>
<li><a href="#appendix-units">Units</a></li>
<li><a href="#appendix-message">Properties of &lt;message&gt;</a></li>
<li><a href="#appendix-interface">Properties of &lt;interface&gt;</a></li>
<li><a href="#appendix-alias">Properties of &lt;alias&gt;</a></li>
<li><a href="#appendix-frame">Properties of &lt;frame&gt;</a></li>
<li><a href="#appendix-layers">Common Properties of Frame Layers</a></li>
<li><a href="#appendix-checksum">Properties of &lt;checksum&gt; Frame Layer</a></li>
<li><a href="#appendix-value">Properties of &lt;value&gt; Frame Layer</a></li>
<li><a href="#appendix-custom">Properties of &lt;custom&gt; Frame Layer</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document contains specification of <strong>D</strong>omain <strong>S</strong>pecific <strong>L</strong>anguage (DSL),
called <strong>CommsDSL</strong>, for <a href="https://commschamp.github.io">CommsChampion Ecosystem</a>,
used to define custom binary protocols. The defined schema files are intended
to be parsed and used by <a href="https://github.com/commschamp/commsdsl">commsdsl</a> library and code
generation application(s).</p>
</div>
<div class="paragraph">
<p>The PDF can be downloaded from <a href="https://github.com/commschamp/CommsDSL-Specification/releases">release</a>
artifacts of from <a href="https://github.com/commschamp/CommsDSL-Specification">CommsDSL-Specification</a> project.
The online HTML documentation is hosted on
<a href="https://commschamp.github.io/commsdsl_spec">github pages</a>.</p>
</div>
<div class="paragraph">
<p>This specification document is licensed under
<a href="https://creativecommons.org/licenses/by-nd/4.0/">Creative Commons Attribution-NoDerivatives 4.0 International License</a>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/cc-by-nd.png" alt="Creative Commons Attribution-NoDerivatives 4.0 International License"></span></p>
</div>
<div class="sect2">
<h3 id="_specification_version">Specification Version</h3>
<div class="paragraph">
<p>This document is versioned using <a href="https://semver.org/">Semantic Versioning</a>.</p>
</div>
<div class="paragraph">
<p>The first (<strong>MAJOR</strong>) number in the version will describe the version of <strong>DSL</strong> itself, the
second (<strong>MINOR</strong>) number will indicate <strong>small</strong> additions (such as adding new property
for one of the elements) to the specification which
do not break any backward compatibility, and the third (<strong>PATCH</strong>) number
(if exists) will indicate various language fixes and/or formatting changes of this
specification document.</p>
</div>
</div>
<div class="sect2">
<h3 id="intro-schema-def">Schema Definition</h3>
<div class="paragraph">
<p>The <strong>CommsDSL</strong> schema files use <a href="https://en.wikipedia.org/wiki/XML">XML</a> to
define all the messages, their fields, and framing.</p>
</div>
<div class="paragraph">
<p>Every schema definition file must contain a valid XML with an encoding
information header as well as <strong>single</strong> root node called <strong>&lt;schema&gt;</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The schema node may define its properties (described in detail in
<a href="#schema-schema">Schema</a> chapter).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big" version="2"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_common_fields">Common Fields</h4>
<div class="paragraph">
<p>It can also contain definition of various common fields that can be referenced
by multiple messages. Such fields are defined as children of <strong>&lt;fields&gt;</strong> node.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeField&gt; type="uint8" /&gt;
        ...
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>There can be multiple <strong>&lt;fields&gt;</strong> elements in the same schema definition file.
The fields are described in detail in <a href="#fields-fields">Fields</a> chapter.</p>
</div>
</div>
<div class="sect3">
<h4 id="_messages">Messages</h4>
<div class="paragraph">
<p>The definition of a single message is done using <strong>&lt;message&gt;</strong> node (described
in detail in <a href="#messages-messages">Messages</a> chapter).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="SomeMessage" id="1"&gt;
        ...
    &lt;/message&gt;

    &lt;message name="SomeOtherMessage" id="2"&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Multiple messages can (but don&#8217;t have to) be bundled together as children of <strong>&lt;messages&gt;</strong> node.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;messages&gt;
        &lt;message name="SomeMessage" id="1"&gt;
            ...
        &lt;/message&gt;

        &lt;message name="SomeOtherMessage" id="2"&gt;
            ...
        &lt;/message&gt;
    &lt;/messages&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_framing">Framing</h4>
<div class="paragraph">
<p>Transport framing is defined using <strong>&lt;frame&gt;</strong> node (described in detail in
<a href="#frames-frames">Frames</a> chapter).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="SomeFrame"&gt;
        &lt;size ... /&gt;
        &lt;id ... /&gt;
        &lt;payload ... /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Multiple frames can (but don&#8217;t have to) be bundled together as children of <strong>&lt;frames&gt;</strong> node.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frames&gt;
        &lt;frame name="SomeFrame"&gt;
            ...
        &lt;/frame&gt;

        &lt;frame name="SomeOtherFrame"&gt;
            ...
        &lt;/frame&gt;
    &lt;/frames&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_interface">Interface</h4>
<div class="paragraph">
<p>There are protocols that put some information, common to all the messages, such as
protocol version and/or extra flags, into the framing information instead of message payload.
This information needs to be accessible when message payload is being read or
message object is being handled by the application. The
<a href="https://github.com/commschamp/comms_champion#comms-library">COMMS Library</a>
handles these cases by having a common interface class for all the messages, which
contains this extra information. In order to support such cases, the <strong>CommsDSL</strong>
introduces optional node <strong>&lt;interface&gt;</strong> (described in detail in
<a href="#interfaces-interfaces">Interfaces</a> chapter) for description of such common
interfaces.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;interface name="CommonInterface"&gt;
        &lt;int name="version" type="uint16" semanticType="version" /&gt;
    &lt;/interface&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Multiple interfaces can (but don&#8217;t have to) be bundled together as children of <strong>&lt;interfaces&gt;</strong> node.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;interfaces&gt;
        &lt;interface name="CommonInterface"&gt;
            ...
        &lt;/interface&gt;

        &lt;interface name="SomeOtherInterface"&gt;
            ...
        &lt;/interface&gt;
    &lt;/interfaces&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>All the nodes described above are allowed to appear in any order.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="intro-multiple-files">Multiple Files</h3>
<div class="paragraph">
<p>For big protocols it is possible and even recommended to split schema definition
into multiple files. The code generator <strong>must</strong> accept a list of schema files to
process and <strong>must</strong> process them in requested order.</p>
</div>
<div class="paragraph">
<p>Every subsequently processed schema file must <strong>NOT</strong> change any properties
specified by the first processed schema file. It is allowed to omit any properties
that have already been defined. For example:</p>
</div>
<div class="paragraph">
<p>First processed file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big" version="2"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Second processed file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It must be accepted by the code generator because it does <strong>NOT</strong> change previously
defined <strong>name</strong>, <strong>endian</strong>, and <strong>version</strong>. The second file doesn&#8217;t mention
<strong>version</strong> at all.</p>
</div>
<div class="paragraph">
<p>However, the following third file must cause an error due to changing the
<strong>endian</strong> value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="little"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also note, that all the properties have some default value and cannot be
defined in second or later processed file while been omitted in the first one.</p>
</div>
<div class="paragraph">
<p>For example, the first file doesn&#8217;t specify version number (which defaults to <strong>0</strong>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following second file must cause an error due to an attempt to override
<strong>version</strong> property with different value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" version="2"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="intro-namespaces">Namespaces</h3>
<div class="paragraph">
<p>In addition to splitting into <a href="#intro-multiple-files">multiple files</a>, <strong>CommsDSL</strong>
provides namespaces to help in definition of big protocols. It is possible to
define <a href="#fields-fields">fields</a>, <a href="#messages-messages">messages</a>,
<a href="#interfaces-interfaces">interfaces</a>, and <a href="#frames-frames">frames</a> in
a separate namespace. The code generator must use this information to define
relevant classes in a separate namespace(s) (if such feature is provided by the
language) or introduce relevant prefixes into the names to avoid name clashes.</p>
</div>
<div class="paragraph">
<p>The namespace is defined using <strong>&lt;ns&gt;</strong> node with single <strong>name</strong> property.
It can contain all the mentioned <a href="#schema-schema">previously</a> nodes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;ns name="myns"&gt;
        &lt;fields&gt;
            ...
        &lt;/fields&gt;

        &lt;message ...&gt;
        &lt;/message&gt;

        &lt;messages&gt;
            &lt;message ... /&gt;
            &lt;message ... /&gt;
        &lt;/messages&gt;

        &lt;interface ...&gt;
        &lt;/interface&gt;

        &lt;interfaces&gt;
            &lt;interface ... /&gt;
            &lt;interface ... /&gt;
        &lt;/interfaces&gt;

        &lt;frame ...&gt;
        &lt;/frame&gt;

        &lt;frames&gt;
            &lt;frame ... /&gt;
            &lt;frame ... /&gt;
        &lt;/frames&gt;
    &lt;/ns&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The namespace (<strong>&lt;ns&gt;</strong>) can also contain other namespaces:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;ns name="myns"&gt;
        &lt;ns name="subns1"&gt;
            &lt;fields&gt;
                ...
            &lt;/fields&gt;
        &lt;/ns&gt;

        &lt;ns name="subns2"&gt;
            &lt;message ... /&gt;
            &lt;message ... /&gt;
        &lt;/ns&gt;
    &lt;/ns&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="intro-platforms">Platforms</h3>
<div class="paragraph">
<p>The same protocol may be used by multiple <strong>platforms</strong> with a couple of platform
specific messages. The <strong>CommsDSL</strong> allows listing of available platforms using
optional <strong>&lt;platform&gt;</strong> node. Every <a href="#messages-messages">message</a>
definition may specify a list of supported platforms. A code generator may
use this information and generate some platform specific code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;platform name="Plat1" /&gt;
    &lt;platform name="Plat2" /&gt;
    &lt;platform name="Plat3" /&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Multiple platforms can (but don&#8217;t have to) be bundled together as children of <strong>&lt;platforms&gt;</strong> node.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;platforms&gt;
        &lt;platform name="Plat1" /&gt;
        &lt;platform name="Plat2" /&gt;
        &lt;platform name="Plat3" /&gt;
    &lt;/platforms&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="intro-references">References to Elements</h3>
<div class="paragraph">
<p>The <strong>CommsDSL</strong> allows references to fields or other definitions in order not
to duplicate information and avoid various copy/paste errors. The referenced
element <strong>must</strong> be defined (if in the same file) or processed (if in
<a href="#intro-multiple-files">different</a> schema file) <strong>before</strong> the definition of the
referencing element.</p>
</div>
<div class="paragraph">
<p>For example, message defines its payload as a reference (alias) to the
globally defined field. This field is defined before the message definition.
The opposite order <strong>must</strong> cause an error. It allows easy avoidance of
circular references.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeField" type="uint8" /&gt;
    &lt;/fields&gt;

    &lt;message name="SomeMessage" id="1"&gt;
        &lt;ref field="SomeField" /&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When referencing a field or a value defined in a namespace (any namespace, not just
different one), the former must be prefixed with a namespace(s) name(s)
separated by a <strong>.</strong> (dot).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;ns name="myns"&gt;
        &lt;fields&gt;
            &lt;int name="SomeField" type="uint8" /&gt;
        &lt;/fields&gt;

        &lt;ns name="subns"&gt;
            &lt;fields&gt;
                &lt;int name="SomeOtherField" type="uint16" /&gt;
            &lt;/fields&gt;
        &lt;/ns&gt;

        &lt;message name="SomeMessage" id="1"&gt;
            &lt;ref field="myns.SomeField" /&gt;
            &lt;ref field="myns.subns.SomeOtherField" /&gt;
        &lt;/message&gt;
    &lt;/ns&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="intro-properties">Properties</h3>
<div class="paragraph">
<p>Almost every element in <strong>CommsDSL</strong> has one or more properties, such as <strong>name</strong>.
Any property can be defined using multiple ways. In can be useful when an
element has too many properties to specify in a single line for a convenient
reading. <strong>Any</strong> of the described below supported ways of defining a single property
can be used for <strong>any</strong> element in the schema.</p>
</div>
<div class="paragraph">
<p>The property can be defined as an XML attribute.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;int name="SomeField" type="uint8" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or as child node with <strong>value</strong> attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;int&gt;
    &lt;name value="SomeField" /&gt;
    &lt;type value="uint8" /&gt;
&lt;/int&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Property value can also be defined as a text of the child XML element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;int&gt;
    &lt;name&gt;SomeField&lt;/name&gt;
    &lt;type&gt;uint8&lt;/type&gt;
&lt;/int&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is allowed to mix ways of defining properties for a single element</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;int name="SomeField"&gt;
    &lt;type value="uint8" /&gt;
    &lt;endian&gt;big&lt;/endian&gt;
&lt;/int&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Many properties must be defined only once for a specific element. In this case,
repetition of it is prohibited. The definition below must cause an error (even
if provided <strong>type</strong> value is not changed).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;int name="SomeField" type="uint8" &gt;
    &lt;type value="uint8" /&gt;
&lt;/int&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that properties can be defined in <strong>any</strong> order.</p>
</div>
</div>
<div class="sect2">
<h3 id="intro-numeric">Numeric Values</h3>
<div class="paragraph">
<p><strong>Any</strong> integral numeric value in the schema may be defined as decimal value or
hexadecimal with "0x" prefix. For example, numeric IDs of the messages below
are specified using decimal (for first) and hexadecimal (for second).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;message name="Message1" id="123"&gt;
    ...
&lt;/message&gt;

&lt;message name="Message2" id="0x1a"&gt;
    ...
&lt;/message&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="intro-boolean">Boolean Values</h3>
<div class="paragraph">
<p>There are properties that require boolean value. The <strong>CommsDSL</strong> supports
case <strong>insensitive</strong> "true" and "false" strings, as well as "1" and "0" numeric
values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;int name="SomeField" ... removed="True" /&gt;
&lt;int name="SomeOtherField" ... pseudo="0" /&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="intro-names">Names</h3>
<div class="paragraph">
<p>Almost every element has a required <strong>name</strong> <a href="#intro-properties">property</a>. Provided
value will be used to generate appropriate classes and/or relevant access functions.
As the result, the chosen names must be only alphanumeric and
`_' (underscore) characters, but also mustn&#8217;t start with a number.
The provided value is case sensitive. However, the code generator is allowed
to change the case of to first letter of the provided value. It is up to the
code generator to choose whether to use <strong>camelCase</strong> or <strong>PascalCase</strong> when
generating appropriate classes and/or access functions.</p>
</div>
<div class="paragraph">
<p>As the result, the code generator may report an error for the following definition
of fields, which use different names, but differ only in the case of the first
letter.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="someField" type="uint8" /&gt;
        &lt;int name="SomeField" type="uint16" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The names of the elements must be unique in their scope. It is allowed to
use the same name in different <a href="#intro-namespaces">namespaces</a> or different
<a href="#messages-messages">messages</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1"&gt;
        &lt;int name="F1"&gt; type="uint8" /&gt;
        ...
    &lt;/message&gt;

    &lt;message name="Msg2" id="2"&gt;
        &lt;int name="F1"&gt; type="int32" /&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="intro-protocol-versioning">Protocol Versioning</h3>
<div class="paragraph">
<p>The <strong>CommsDSL</strong> provides a way to specify version of the binary
protocol by using <strong>version</strong> property of the <a href="#schema-schema">schema</a>
element.</p>
</div>
<div class="paragraph">
<p>Other elements, such as <a href="#fields-fields">fields</a> or
<a href="#messages-messages">messages</a> allow specification of version they were
introduced by using <strong>sinceVersion</strong> property. It is also possible to provide
an information about version since which the element has been deprecated using
<strong>deprecated</strong> property. Usage of <strong>deprecated</strong> property is just an indication for
developers that the element should not be used any more. The code generator may
introduce this information as a comment in the generated code. However, it does <strong>NOT</strong> remove
a deprecated <a href="#fields-fields">field</a> from being serialized to preserve
backward compatibility of the protocol. If the protocol definition does require
removal of the deprecated field from being serialized, the <strong>deprecated</strong>
property must be supplemented with <strong>removed</strong> property.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big" version="5" &gt;
    &lt;message name="SomeMessage" id="1"&gt;
        &lt;int name="F1" type="uint16" /&gt;
        &lt;int name="F2" type="uint8" sinceVersion="2" /&gt;
        &lt;int name="F3" type="int32" sinceVersion="3" deprecated="4" removed="true" /&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above the field <strong>F2</strong> was introduced in version 2. The field <strong>F3</strong>
was introduced in version 3, but deprecated and removed in version 4.</p>
</div>
<div class="paragraph">
<p>All these version numbers in the schema definition allow generation of proper version checks
and correct code for protocols that communicate their version in their
<a href="#frames-frames">framing</a> or selected messages. Please refer to
<a href="#versioning-versioning">Protocol Versioning Summary</a> chapter for more details on
the subject.</p>
</div>
<div class="paragraph">
<p>For all other protocols that don&#8217;t report their version and/or don&#8217;t care about
backward compatibility, the version information in the schema just serves as
documentation. The code generator must ignore the version information when
generating code for such protocols. The code generator may also allow generation
of the code for a specific version and take provided version information on
determining whether specific field exists for a particular version.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="schema-schema">Schema</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Schema definition may contain various global (protocol-wide)
<a href="#intro-properties">properties</a>.</p>
</div>
<div class="sect2">
<h3 id="_protocol_name">Protocol Name</h3>
<div class="paragraph">
<p>The protocol name is defined using <strong>name</strong> property. It may contain any
alphanumeric character, but mustn&#8217;t start with a number.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>name</strong> property is a <strong>required</strong> one. The code generator must report
an error in case first processed schema file doesn&#8217;t define one.</p>
</div>
<div class="paragraph">
<p>The code generator is expected to use the specified name as main namespace
for the protocol definition, unless new name is provided via command line
parameters.</p>
</div>
</div>
<div class="sect2">
<h3 id="_endian">Endian</h3>
<div class="paragraph">
<p>Default endian for the protocol can be defined using <strong>endian</strong> property. Supported
values are either <strong>big</strong> or <strong>little</strong> (case insensitive). Defaults to <strong>little</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="Big"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>endian</strong> property of any subsequently defined <a href="#fields-fields">field</a>
will default to the specified value, but can be overridden using
its own <strong>endian</strong> property.</p>
</div>
</div>
<div class="sect2">
<h3 id="_description">Description</h3>
<div class="paragraph">
<p>It is possible to provide a human readable description of the protocol definition
just for documentation purposes. The description is provided using <strong>description</strong>
property of the <strong>&lt;schema&gt;</strong> node. Just like any <a href="#intro-properties">property</a>
the description can be provided using one of the accepted ways. In case of
long multiline description it is recommended to define it as a text child element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol"&gt;
    &lt;description&gt;
        Some
        multiline
        description
    &lt;/description&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_protocol_schema_version">Protocol (Schema) Version</h3>
<div class="paragraph">
<p>As was mentioned in <a href="#intro-protocol-versioning">Protocol Versioning</a> section,
<strong>CommsDSL</strong> supports (but doesn&#8217;t enforce) versioning of the schema / protocol.
In order to specify the version use <strong>version</strong> property with unsigned integral
value. Defaults to <strong>0</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" version="5"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case the protocol definition uses <a href="https://semver.org/">semantic versioning</a>
with major / minor numbers, it is recommended to combine multiple numbers into one
mentally using "shift" operation(s).
For example version <strong>1.5</strong> can be defined and used throughout the schema as <strong>0x105</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" version="0x105"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dsl_version">DSL Version</h3>
<div class="paragraph">
<p>As this specification evolves over time it can introduce new properties or
other elements. It is possible to specify the version of the <strong>DSL</strong> as the schema&#8217;s
property. If code generator expects earlier version of the schema it should
report an error (or at least a warning).</p>
</div>
<div class="paragraph">
<p>The DSL version is specified using <strong>dslVersion</strong> property with unsigned integral
value. Defaults to <strong>0</strong>, which means any version of code generator will try to
parse the schema and will report error / warning in case it encounters unrecognized
property or other construct.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" dslVersion="2"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_allowing_non_unique_message_ids">Allowing Non-Unique Message IDs</h3>
<div class="paragraph">
<p>By default every defined <a href="#messages-messages">message</a> must have unique
numeric message ID. If this is not the case, the code generator must report an
error in case message definition with repeating ID number is encountered.
It is done as protection against various copy/paste or typo errors.</p>
</div>
<div class="paragraph">
<p>However, there are protocols that may define various forms of the same message,
which are differentiated by a serialization length or value of some particular
field inside the message. It can be convenient to define such variants as separate
classes. <strong>CommsDSL</strong> allows doing so by setting <strong>nonUniqueMsgIdAllowed</strong> property
of the schema to <strong>true</strong>. In this case, code generator must allow definition of
different messages with the same numeric ID.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" nonUniqueMsgIdAllowed="true"&gt;
    &lt;message name="SomeMessageForm1" id="1"&gt;
        ...
    &lt;/message&gt;

    &lt;message name="SomeMessageForm2" id="1"&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-schema">properties table</a> for future references.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fields-fields">Fields</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Any <strong>field</strong> can be defined as independent element inside the <strong>&lt;fields&gt;</strong>
child of the <a href="#intro-schema-def">&lt;schema&gt; </a> or a <a href="#intro-namespaces">&lt;ns&gt; </a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeField" type="uint8" /&gt;
        ...
    &lt;/fields&gt;
&lt;/schema&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>It can also be defined as a member of a message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="SomeMessage" id="1"&gt;
        &lt;int name="SomeField" type="uint8" /&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Field that is defined as a child of <strong>&lt;fields&gt;</strong> node of the
<a href="#intro-schema-def">&lt;schema&gt; </a> or
<a href="#intro-namespaces">&lt;ns&gt; </a> can be referenced by other fields to avoid
duplication of the same definition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;ns name="ns1"&gt;
        &lt;int name="SomeField" type="uint8" /&gt;
        &lt;ref name="AliasToField" field="ns1.SomeField" /&gt;
    &lt;/ns&gt;
    &lt;message name="SomeMessage" id="1"&gt;
        &lt;ref name="Mem1" field="ns1.SomeField"" /&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The available fields are described in details in the sections to follow. They are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#fields-enum">&lt;enum&gt; </a> - Enumeration field.</p>
</li>
<li>
<p><a href="#fields-int">&lt;int&gt; </a> - Integral value field.</p>
</li>
<li>
<p><a href="#fields-set">&lt;set&gt; </a> - Bitset (bitmask) field.</p>
</li>
<li>
<p><a href="#fields-bitfield">&lt;bitfield&gt; </a> - Bitfield field.</p>
</li>
<li>
<p><a href="#fields-bundle">&lt;bundle&gt; </a> - Bundle field.</p>
</li>
<li>
<p><a href="#fields-string">&lt;string&gt; </a> - String field.</p>
</li>
<li>
<p><a href="#fields-data">&lt;data&gt; </a> - Raw data field.</p>
</li>
<li>
<p><a href="#fields-list">&lt;list&gt; </a> - List of other fields.</p>
</li>
<li>
<p><a href="#fields-float">&lt;float&gt; </a> - Floating point value field.</p>
</li>
<li>
<p><a href="#fields-ref">&lt;ref&gt; </a> - Reference to (alias of) other field.</p>
</li>
<li>
<p><a href="#fields-optional">&lt;optional&gt; </a> - Optional field.</p>
</li>
<li>
<p><a href="#fields-variant">&lt;variant&gt; </a> - Variant field.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All this fields have <a href="#fields-common">common</a> as well as their own specific set of
properties.</p>
</div>
<div class="sect2">
<h3 id="fields-common">Common Properties of Fields</h3>
<div class="paragraph">
<p>Every field is different, and defines its own properties and/or other aspects.
However, there are common properties, that are applicable to every field.
They are summarized below.</p>
</div>
<div class="sect3">
<h4 id="_name">Name</h4>
<div class="paragraph">
<p>Every field must define it&#8217;s <a href="#intro-names">name</a>, which is expected to be
used by a code generator when defining a relevant class. The name is defined
using <strong>name</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeField" ... /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_description_2">Description</h4>
<div class="paragraph">
<p>It is possible to provide a description of the field about what it is and
how it is expected to be used. This description is only for documentation
purposes and may find it&#8217;s way into the generated code as a comment for the
generated class. The <a href="#intro-properties">property</a> is <strong>description</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeField" type="uint8"&gt;
            &lt;description&gt;
                Some long
                multiline
                description
            &lt;/description&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_reusing_other_fields">Reusing Other Fields</h4>
<div class="paragraph">
<p>Sometimes two different fields are very similar, but differ in one particular
aspect. <strong>CommsDSL</strong> allows copying all the properties from previously defined
field (using <strong>reuse</strong> property) and change some of them after the copy. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint8" defaultValue="3" /&gt;
        &lt;bitfield name="SomeBitfield&gt;
            &lt;int name="Member1" reuse="SomeIntField" bitLength="3" /&gt;
            &lt;int name="Member2" type="uint8" defaultValue="10" bitLength="5" /&gt;
        &lt;/bitfield&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above member of the bitfield <strong>Member1</strong> copies all the properties
from <strong>SomeIntField</strong> field, then overrides its <strong>name</strong> and adds <strong>bitLength</strong>
one to specify its length in bits.</p>
</div>
<div class="paragraph">
<p>The <strong>reuse</strong> is allowed only from the field of the same <strong>kind</strong>. For example,
it is <strong>NOT</strong> allowed for <a href="#fields-enum">&lt;enum&gt; </a> field to reuse definition of
<a href="#fields-int">&lt;int&gt; </a>, only other <a href="#fields-enum">&lt;enum&gt; </a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_forcing_generation">Forcing Generation</h4>
<div class="paragraph">
<p>By default the code generator is expected not to generate code for fields that
are not <a href="#intro-references">referenced</a> by any other field to reduce amount of
generated code. However, there may be cases when a field releated definitions are expected
to find their way into the generated code even the field itself is not referenced
anywhere. To help with such forcing the <strong>forceGen</strong> <a href="#intro-properties">property</a>
has been introduced with <a href="#intro-boolean">boolean</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" forceGen="true" ... /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_display_properties">Display Properties</h4>
<div class="paragraph">
<p><strong>CommsDSL</strong> supports generation of not only field&#8217;s serialization and
value access functionality, but also of various GUI protocol visualization, debugging and
analysis tools. There are some allowed properties, that indicate how the
field is expected to be displayed by such tools.</p>
</div>
<div class="paragraph">
<p>The <strong>displayName</strong> property is there to specify proper string of the field&#8217;s
name, with spaces, dots and other characters that are not allowed to exist in
the <a href="#intro-names">name</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" displayName="Some Int Field" ... /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If <strong>displayName</strong> is not specified, the code generator must use value of property
<strong>name</strong> instead. In order to force empty <strong>displayName</strong>, use "_" (underscore) value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" displayName="_" ... /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sometimes the values of some fields may be controlled by other fields. In this case, it
could be wise to disable manual update of such fields. To enable/disable such
behavior use <strong>displayReadOnly</strong> property with <a href="#intro-boolean">boolean</a>
value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" displayReadOnly="true" ... /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also sometimes it can be desirable to completely hide some field
from being displayed in the protocol analysis GUI application. In this case
use <strong>displayHidden</strong> property with <a href="#intro-boolean">boolean</a>
value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" displayHidden="true" ... /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_versioning">Versioning</h4>
<div class="paragraph">
<p><strong>CommsDSL</strong> allows providing an information in what version the field was added
to a particular message, as well as in what version it was deprecated, and whether
it was removed from being serialized after deprecation.</p>
</div>
<div class="paragraph">
<p>To specify the version in which field was introduced, use <strong>sinceVersion</strong>
property. To specify the version in which the field was deprecated, use
<strong>deprecated</strong> property. To specify whether the field was removed after being deprecated
use <strong>removed</strong> property in addition to <strong>deprecated</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big" version="5" &gt;
    &lt;message name="SomeMessage" id="1"&gt;
        &lt;int name="F1" type="uint16" /&gt;
        &lt;int name="F2" type="int8" deprecated="5" /&gt;
        &lt;int name="F3" type="uint8" sinceVersion="2" /&gt;
        &lt;int name="F4" type="int32" sinceVersion="3" deprecated="4" removed="true" /&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>F1</strong> was introduced in version <strong>0</strong> and hasn&#8217;t been deprecated yet.</p>
</li>
<li>
<p><strong>F2</strong> was also introduced in version <strong>0</strong>, deprecated in version <strong>5</strong>, but <strong>not</strong>
removed from being serialized.</p>
</li>
<li>
<p><strong>F3</strong> was introduced in version <strong>2</strong> and hasn&#8217;t been deprecated yet.</p>
</li>
<li>
<p><strong>F4</strong> was introduced in version <strong>3</strong>, deprecated in removed in version <strong>4</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that all the specified versions mustn&#8217;t be greater that the version
of the <a href="#schema-schema">schema</a>. Also value of <strong>sinceVersion</strong> must be
<strong>less</strong> than value of <strong>deprecated</strong>.</p>
</div>
<div class="paragraph">
<p>The version information on the field in global <strong>&lt;fields&gt;</strong> area or
inside some <a href="#intro-namespaces">namespace</a> does <strong>NOT</strong> make sense and
should be ignored by the code generator. It is allowed when field is a member
of a <a href="#messages-messages">&lt;message&gt; </a> or a
<a href="#fields-bundle">&lt;bundle&gt; </a> field.</p>
</div>
</div>
<div class="sect3">
<h4 id="_failing_read_of_the_field_on_invalid_value">Failing Read of the Field on Invalid Value</h4>
<div class="paragraph">
<p>Some fields may specify what values are considered to be valid, and there may
be a need to fail the <strong>read</strong> operation in case the received value is invalid.</p>
</div>
<div class="paragraph">
<p>To achieve this <strong>failOnInvalid</strong> property with <a href="#intro-boolean">boolean</a>
value can be used. There are two main scenarios that may require usage of this
property. One is the protocol being implemented requires such behavior in its
specification. The second is when there are multiple forms of the same message
which are differentiated by the value of some specific field in its payload.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big" nonUniqueMsgIdAllowed="true" &gt;
    &lt;message name="Msg1Kind0" id="1" order="0"&gt;
        &lt;int name="Kind" type="uint8" validValue="0" failOnInvalid="true" /&gt;
        ...
    &lt;/message&gt;

    &lt;message name="Msg1Kind1" id="1" order="1"&gt;
        &lt;int name="Kind" type="uint8" defaultValue="1" validValue="1" failOnInvalid="true" /&gt;
        ...
    &lt;/message&gt;

    &lt;message name="Msg1Kind2" id="1" order="2"&gt;
        &lt;int name="Kind" type="uint8" defaultValue="2" validValue="2" failOnInvalid="true" /&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example above defined 3 variants of the message with numeric ID equals to <strong>1</strong>.
When new message with this ID comes in, the <a href="#frames-frames">framing</a> code
is expected to try reading all of the variants and choose one, on which <strong>read</strong>
operation doesn&#8217;t fail. The <strong>order</strong> property of the message specifies in
what order the messages with the same ID must be read. It described in more
detail in <a href="#messages-messages">Messages</a> chapter.</p>
</div>
</div>
<div class="sect3">
<h4 id="_pseudo_fields">Pseudo Fields</h4>
<div class="paragraph">
<p>Sometimes there may be a need to have "psuedo" fields, which are implemented
using proper field abstration, and are handled as
any other field, but not actually getting serialized when written (or deserialized
when read). It can be achieved using <strong>pseudo</strong> property with <a href="#intro-boolean">boolean</a>
value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big" version="5" &gt;
    &lt;message name="SomeMessage" id="1"&gt;
        &lt;int name="SomePseudoField" type="uint16" defaultValue="0xabcd" pseudo="true" /&gt;
        &lt;int name="SomeRealField" type="int8"&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_customizable_fields">Customizable Fields</h4>
<div class="paragraph">
<p>The code generator is expected to allow some level of compile time customization of the
generated code, such as choosing different data structures and/or adding/replacing
some runtime logic. The code generator is also expected to provide command line
options to choose required level of customization. Sometimes it may be required
to allow generated field abstraction to be customizable regardless of the customization
level requested from the code generator. <strong>CommsDSL</strong> provides <strong>customizable</strong>
property with <a href="#intro-boolean">boolean</a> value to force any field being
customizable at compile time.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="SomeField" customizable="true" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_semantic_type">Semantic Type</h4>
<div class="paragraph">
<p>Sometimes code generator may generate a bit different (or better) code for fields that are
used for some particular purpose. To specify such purpose use <strong>semanticType</strong>
property.</p>
</div>
<div class="paragraph">
<p>Available semantic types are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>messageId</strong> - Used to specify what type/field is used for holding numeric
message ID. Applicable to <a href="#fields-enum">&lt;enum&gt; </a> fields.</p>
</li>
<li>
<p><strong>version</strong> - Used to specify that the field is used to hold protocol version.
Applicable to <a href="#fields-int">&lt;int&gt; </a> field (or <a href="#fields-ref">&lt;ref&gt; </a> referening
an <a href="#fields-int">&lt;int&gt; </a>).</p>
</li>
<li>
<p><strong>length</strong> - Used to specify that the field holds total serialization length
of the subsequent fields. Applicable to <a href="#fields-int">&lt;int&gt; </a> field
(or  <a href="#fields-ref">&lt;ref&gt; </a> referening an <a href="#fields-int">&lt;int&gt; </a>).
The <strong>length</strong> semantic type makes sense only for
a member of <a href="#fields-bundle">&lt;bundle&gt; </a> field and should be ignored in
all other cases. The <strong>length</strong> semantic type
was introduced in <strong>v2.0</strong> of <strong>CommsDSL</strong> specification.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;enum name="MsgId" type="uint8" semanticType="messageId" &gt;
            &lt;validValue name="Msg1" val="0x01" /&gt;
            &lt;validValue name="Msg2" val="0x02" /&gt;
            &lt;validValue name="Msg3" val="0x03" /&gt;
            ...
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-fields">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-enum">&lt;enum&gt; Field</h3>
<div class="paragraph">
<p>This field stores and abstracts away value of integral
<a href="https://en.wikipedia.org/wiki/Enumerated_type">enumerated type</a>, where every
valid value has its name. The <strong>&lt;enum&gt;</strong> field has all the <a href="#fields-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="sect3">
<h4 id="fields-enum-underlying-type">Underlying Type</h4>
<div class="paragraph">
<p>Every <strong>&lt;enum&gt;</strong> field must provide its underlying storage type using
<strong>type</strong> <a href="#intro-properties">property</a>. Available
values are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>int8</strong> - 1 byte signed integer.</p>
</li>
<li>
<p><strong>uint8</strong> - 1 byte unsigned integer.</p>
</li>
<li>
<p><strong>int16</strong> - 2 bytes signed integer.</p>
</li>
<li>
<p><strong>uint16</strong> - 2 bytes unsigned integer.</p>
</li>
<li>
<p><strong>int32</strong> - 4 bytes signed integer.</p>
</li>
<li>
<p><strong>uint32</strong> - 4 bytes unsigned integer.</p>
</li>
<li>
<p><strong>int64</strong> - 8 bytes signed integer.</p>
</li>
<li>
<p><strong>uint64</strong> - 8 bytes unsigned integer.</p>
</li>
<li>
<p><strong>intvar</strong> - up to 8 bytes variable length signed integer</p>
</li>
<li>
<p><strong>uintvar</strong> - up to 8 bytes variable length unsigned integer</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint8"&gt;
            ...
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The variable length types are encoded using <strong>Base-128</strong> form, such as
<a href="https://en.wikipedia.org/wiki/LEB128">LEB128</a> for <strong>little</strong> endian or similar for
<strong>big</strong> endian.</p>
</div>
</div>
<div class="sect3">
<h4 id="_valid_values">Valid Values</h4>
<div class="paragraph">
<p>All the valid values must be listed as <strong>&lt;validValue&gt;</strong> child of the
<strong>&lt;enum&gt;</strong> XML element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint8"&gt;
            &lt;validValue name="Val1" val="0" /&gt;
            &lt;validValue name="Val2" val="5" /&gt;
            &lt;validValue name="Val3" val="0x1b" /&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Every <strong>&lt;validValue&gt;</strong> must define a valid <a href="#intro-names">name</a>
(using <strong>name</strong> <a href="#intro-properties">property</a>) as
well as <a href="#intro-numeric">numeric</a> value (using <strong>val</strong>
<a href="#intro-properties">property</a>), that fits chosen
<a href="#fields-enum-underlying-type">underlying type</a>. The <strong>&lt;validValue&gt;</strong>-es may be listed
in any order, not necessarily sorted.</p>
</div>
<div class="paragraph">
<p>Every <strong>&lt;validValue&gt;</strong> has extra optional properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>description</strong> - Extra description and documentation on how to use the value.</p>
</li>
<li>
<p><strong>displayName</strong> - String specifying how to name the value in various analysis tools.</p>
</li>
<li>
<p><strong>sinceVersion</strong> - Version of the protocol when the value was introduced.</p>
</li>
<li>
<p><strong>deprecated</strong> - Version of the protocol when the value was deprecated.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All these extra properties are described in detail in
<a href="#fields-common">Common Properties of Fields</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_default_value">Default Value</h4>
<div class="paragraph">
<p>The default value of the <strong>&lt;enum&gt;</strong> field when constructed can be specified
using <strong>defaultValue</strong> property. If not specified, defaults to <strong>0</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint8" defaultValue="5"&gt;
            &lt;validValue name="Val1" val="0" /&gt;
            &lt;validValue name="Val2" val="5" /&gt;
            &lt;validValue name="Val3" val="0x1b" /&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default value can also be specified using the name of one of the
<strong>&lt;validValue&gt;</strong>-es:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint8" defaultValue="Val2"&gt;
            &lt;validValue name="Val1" val="0" /&gt;
            &lt;validValue name="Val2" val="5" /&gt;
            &lt;validValue name="Val3" val="0x1b" /&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_endian_2">Endian</h4>
<div class="paragraph">
<p>The default serialization endian of the protocol is specified in <strong>endian</strong>
property of the <a href="#schema-schema">schema</a>. It is possible to override the
default endian value with extra <strong>endian</strong> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint16" endian="little"&gt;
            &lt;validValue name="Val1" val="0" /&gt;
            &lt;validValue name="Val2" val="5" /&gt;
            &lt;validValue name="Val3" val="0x1b" /&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_serialization_length">Serialization Length</h4>
<div class="paragraph">
<p>The <a href="#fields-enum-underlying-type">underlying type</a> dictates the serialization length
of the <strong>&lt;enum&gt;</strong> field. However, there may be protocols that limit serialization
length of the field to non-standard lengths, such as <strong>3</strong> bytes. In this case
use <strong>length</strong> property to specify custom serialization length.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint32" length="3"&gt;
            &lt;validValue name="Val1" val="0x0" /&gt;
            &lt;validValue name="Val2" val="0x0a0b0c" /&gt;
            &lt;validValue name="Val3" val="0xffffff" /&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><span class="red">IMPORTANT</span></strong>: When <strong>length</strong> property is used with variable length
<a href="#fields-enum-underlying-type">underlying type</a> (<strong>intvar</strong> and <strong>uintvar</strong>),
it means <strong>maximum</strong> allowed length.</p>
</div>
</div>
<div class="sect3">
<h4 id="_length_in_bits">Length in Bits</h4>
<div class="paragraph">
<p><strong>&lt;enum&gt;</strong> field can be a member of <a href="#fields-bitfield">&lt;bitfield&gt; </a> field.
In this case the serialization length may be specified in bits using <strong>bitLength</strong>
<a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;bitfield name="SomeBitfield"&gt;
            &lt;enum name="SomeEnumMember" type="uint8" bitLength="3"&gt;
                &lt;validValue name="Val1" val="0" /&gt;
                &lt;validValue name="Val2" val="1" /&gt;
                &lt;validValue name="Val3" val="2" /&gt;
            &lt;/enum&gt;

            &lt;enum name="SomeOtherEnumMember" type="uint8" bitLength="5"&gt;
                &lt;validValue name="Val1" val="5" /&gt;
                &lt;validValue name="Val2" val="12" /&gt;
                &lt;validValue name="Val3" val="20" /&gt;
            &lt;/enum&gt;
        &lt;/bitfield&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_hex_assignment">Hex Assignment</h4>
<div class="paragraph">
<p>The code generator is expected to generate appropriate <strong>enum</strong> types using
<strong>decimal</strong> values assigned to enumeration names. However, some protocol specifications may list
valid values using <strong>hexadecimal</strong> format. To make the reading of the generated code
more convenient, use <strong>hexAssign</strong> <a href="#intro-properties">property</a> with
<a href="#intro-boolean">boolean</a> value to force code generator make the assignments
using hexadecimal values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint8" hexAssign="true"&gt;
            &lt;validValue name="Val1" val="0" /&gt;
            &lt;validValue name="Val2" val="5" /&gt;
            &lt;validValue name="Val3" val="0x1b" /&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The generated enum type is expected to look something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c++" data-lang="c++">enum class SomeEnumFieldVal
{
    Val1 = 0x00,
    Val2 = 0x05,
    Val3 = 0x1b
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>instead of</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-c++" data-lang="c++">enum class SomeEnumFieldVal
{
    Val1 = 0,
    Val2 = 5,
    Val3 = 27
};</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allow_non_unique_values">Allow Non-Unique Values</h4>
<div class="paragraph">
<p>By default, non-unqiue values are not allowed, the code generator must report
an error if two different <strong>&lt;validValue&gt;</strong>-es use the same value of the <strong>val</strong>
property. It is done as protection against copy-paste errors. However,
<strong>CommsDSL</strong> allows usage of non-unique values in case <strong>nonUniqueAllowed</strong>
<a href="#intro-properties">property</a> has been set to <strong>true</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint8" nonUniqueAllowed="true"&gt;
            &lt;validValue name="Val1" val="0" /&gt;
            &lt;validValue name="Val2" val="5" /&gt;
            &lt;validValue name="OtherNameForVal2" val="5" /&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_version_based_validity">Version Based Validity</h4>
<div class="paragraph">
<p>The code generator is expected to generate functionality checking that
<strong>&lt;enum&gt;</strong> field contains a valid value. By default any specified
<strong>&lt;validValue&gt;</strong> is considered to be valid regardless of version it was
introduced and/or deprecated. However, it is possible to force code generator to
generate validity check code that takes into account reported version of the
protocol by using <strong>validCheckVersion</strong> <a href="#intro-properties">property</a>, which
is set to <strong>true</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big" version="5"&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint8" validCheckVersion="true"&gt;
            &lt;validValue name="Val1" val="0" /&gt;
            &lt;validValue name="Val2" val="5" /&gt;
            &lt;validValue name="Val3" val="10" sinceVersion="2" /&gt;
            &lt;validValue name="Val4" val="15" sinceVersion="3" deprecated="4"/&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above values <strong>0</strong> and <strong>5</strong> will always be considered valid. However
value <strong>10</strong> will be considered valid only if reported protocol version is
greater than or equal to <strong>2</strong>. The value <strong>15</strong> will be considered valid only
for protocol version <strong>3</strong>.</p>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-enum">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-int">&lt;int&gt; Field</h3>
<div class="paragraph">
<p>This field stores and abstracts away value of integral type.
The <strong>&lt;int&gt;</strong> field has all the <a href="#fields-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="sect3">
<h4 id="fields-int-underlying-type">Underlying Type</h4>
<div class="paragraph">
<p>Every <strong>&lt;int&gt;</strong> field must provide its underlying storage type using
<strong>type</strong> <a href="#intro-properties">property</a>. Available
values are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>int8</strong> - 1 byte signed integer.</p>
</li>
<li>
<p><strong>uint8</strong> - 1 byte unsigned integer.</p>
</li>
<li>
<p><strong>int16</strong> - 2 bytes signed integer.</p>
</li>
<li>
<p><strong>uint16</strong> - 2 bytes unsigned integer.</p>
</li>
<li>
<p><strong>int32</strong> - 4 bytes signed integer.</p>
</li>
<li>
<p><strong>uint32</strong> - 4 bytes unsigned integer.</p>
</li>
<li>
<p><strong>int64</strong> - 8 bytes signed integer.</p>
</li>
<li>
<p><strong>uint64</strong> - 8 bytes unsigned integer.</p>
</li>
<li>
<p><strong>intvar</strong> - up to 8 bytes variable length signed integer</p>
</li>
<li>
<p><strong>uintvar</strong> - up to 8 bytes variable length unsigned integer</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntield" type="uint8" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The variable length types are encoded using <strong>Base-128</strong> form, such as
<a href="https://en.wikipedia.org/wiki/LEB128">LEB128</a> for <strong>little</strong> endian or similar for
<strong>big</strong> endian.</p>
</div>
</div>
<div class="sect3">
<h4 id="_special_values">Special Values</h4>
<div class="paragraph">
<p>Some protocol may assign a special meaning for some values. For example, some
field specifies configuration of some timer duration, when <strong>0</strong> value means
infinite. Such values (if exist) must be listed as <strong>&lt;special&gt;</strong> child of the
<strong>&lt;int&gt;</strong> XML element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="Duration" type="uint8"&gt;
            &lt;special name="Infinite" val="0" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The code generator is expected to generate extra convenience functions that
check whether field has special value as well as updating the stored value
with special one.</p>
</div>
<div class="paragraph">
<p>Every <strong>&lt;special&gt;</strong> must define a valid <a href="#intro-names">name</a>
(using <strong>name</strong> <a href="#intro-properties">property</a>) as
well as <a href="#intro-numeric">numeric</a> value (using <strong>val</strong>
<a href="#intro-properties">property</a>), that fits chosen
<a href="#fields-int-underlying-type">underlying type</a>. The <strong>&lt;special&gt;</strong>-s may be listed
in any order, not necessarily sorted.</p>
</div>
<div class="paragraph">
<p>Every <strong>&lt;special&gt;</strong> has extra optional properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>description</strong> - Extra description and documentation on how to use the value.</p>
</li>
<li>
<p><strong>sinceVersion</strong> - Version of the protocol when the special name / meaning was introduced.</p>
</li>
<li>
<p><strong>deprecated</strong> - Version of the protocol when the special name / meaning was deprecated.</p>
</li>
<li>
<p><strong>displayName</strong> - Readable name to display for the special value in protocol debugging and visualization tools.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All these extra properties are described in detail in
<a href="#fields-common">Common Properties of Fields</a>.</p>
</div>
<div class="paragraph">
<p>By default, non-unqiue special values (different name for the same value) are
not allowed, the code generator must report
an error if two different <strong>&lt;special&gt;</strong>-es use the same value of the <strong>val</strong>
property. It is done as protection against copy-paste errors. However,
<strong>CommsDSL</strong> allows usage of non-unique values in case <strong>nonUniqueSpecialsAllowed</strong>
<a href="#intro-properties">property</a> has been set to <strong>true</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeInt" type="uint8" nonUniqueSpecialsAllowed="true"&gt;
            &lt;special name="S1" val="0" /&gt;
            &lt;special name="S2" val="0" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_default_value_2">Default Value</h4>
<div class="paragraph">
<p>The default value of the <strong>&lt;int&gt;</strong> field when constructed can be specified
using <strong>defaultValue</strong> property. If not specified, defaults to <strong>0</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint8" defaultValue="5" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default value can also be specified using the name of one of the
<strong>&lt;special&gt;</strong>-s:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint8" defaultValue="Special2"&gt;
            &lt;special name="Special1" val="0" /&gt;
            &lt;special name="Special2" val="0xff" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_endian_3">Endian</h4>
<div class="paragraph">
<p>The default serialization endian of the protocol is specified in <strong>endian</strong>
property of the <a href="#schema-schema">schema</a>. It is possible to override the
default endian value with extra <strong>endian</strong> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint16" endian="little" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fields-int-serialization-length">Serialization Length</h4>
<div class="paragraph">
<p>The <a href="#fields-int-underlying-type">underlying type</a> dictates the serialization length
of the <strong>&lt;int&gt;</strong> field. However there may be protocols, that limit serialization
length of the field to non-standard lengths, such as <strong>3</strong> bytes. In this case
use <strong>length</strong> property to specify custom serialization length.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint32" length="3" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong><span class="red">IMPORTANT</span></strong>: When <strong>length</strong> property is used with variable length
<a href="#fields-int-underlying-type">underlying types</a> (<strong>intvar</strong> and <strong>uintvar</strong>),
it means <strong>maximum</strong> allowed length.</p>
</div>
</div>
<div class="sect3">
<h4 id="_length_in_bits_2">Length in Bits</h4>
<div class="paragraph">
<p><strong>&lt;int&gt;</strong> field can be a member of <a href="#fields-bitfield">&lt;bitfield&gt; </a> field.
In this case the serialization length may be specified in bits using <strong>bitLength</strong>
<a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;bitfield name="SomeBitfield"&gt;
            &lt;int name="SomeIntMember" type="uint8" bitLength="2" /&gt;
            &lt;int name="SomeOtherIntMember" type="uint8" bitLength="6" /&gt;
        &lt;/bitfield&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fields-int-serialization-offset">Serialization Offset</h4>
<div class="paragraph">
<p>Some protocols may require adding/subtracting some value before serialization, and
performing the opposite operation when the field is deserialized. Such operation
can be forced using <strong>serOffset</strong> property with <a href="#intro-numeric">numeric</a>
value. The classic example would be defining a <strong>year</strong> field that is being
serialized using 1 byte as offset from year 2000. Although it is possible to
define such field as 1 byte integer</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;int name="Year" type="uint8"  /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>it is quite inconvenient to work with it in a client code. The client code needs to be
aware what offset needs to be added to get the proper year value. It is
much better to use <strong>serOffset</strong> property to manipulate value before and after
serialization.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;int name="Year" type="int16" defaultValue="2000" serOffset="-2000" length="1" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that value of <strong>serOffset</strong> property must fit into the underlying type
defined using <strong>type</strong> property.</p>
</div>
</div>
<div class="sect3">
<h4 id="_sign_extension">Sign Extension</h4>
<div class="paragraph">
<p>When limiting <a href="#fields-int-serialization-length">serialization length</a> using <strong>length</strong>
property, the performed <strong>read</strong> operation is expected to sign
extend read signed value. However, such default behavior may be incorrect
for some cases, especially when <a href="#fields-int-serialization-offset">serialization offset</a> is
also used. There are protocols that disallow serialization of a negative value.
Any signed integer must add predefined offset to make it non-negative first, and only
then serialize. The deserialization procedure is the opposite, first deserialize
the non-negative value, and then subtract predefined offset to get the real value.</p>
</div>
<div class="paragraph">
<p>For example, there is an integer field with expected valid values between
<code>-8,000,000</code> and <code>+8,000,000</code>. This range fits into 3 bytes, which are used to
serialize such field. Such field is serialized using the
following math:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add 8,000,000 to the field&#8217;s value to get non-negative number.</p>
</li>
<li>
<p>Serialize the result using only 3 bytes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In order to implement such example correctly there is a need to switch off the
automatic sign extension when value is deserialized.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeField" type="int32" serOffset="8000000" length="3" signExt="false" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that <strong>signExt</strong> property is relevant only for signed types with
non-default <a href="#fields-int-serialization-length">serialization length</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="fields-int-scaling">Scaling</h4>
<div class="paragraph">
<p>Some protocols may not support serialization of floating point values, and
use scaling instead. It is done by multiplying the original floating point value
by some number, dropping the fraction part and serializing the value as integer.
Upon reception, the integer value is divided by predefined number to get a
proper floating point value.</p>
</div>
<div class="paragraph">
<p>For example, there is a distance measured in millimeters with precision of
4 digits after decimal point. The value is multiplied by 10,000 and serialized
as <strong>&lt;int&gt;</strong> field. Such scenario is supported by <strong>CommsDSL</strong> via
introduction of <strong>scaling</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="Distance" type="uint32" scaling="1/10000" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that format of <strong>scaling</strong> value is "<strong>numerator / denominator</strong>".
The code generator is expected to define such field like any other
<strong>&lt;int&gt;</strong>, but also provide functions that allow set / get of
scaled floating point value.</p>
</div>
<div class="paragraph">
<p>It is possible to omit the <strong>denominator</strong> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="int16" scaling="4" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above it is equivalent to having <strong>scaling="4/1"</strong> defined.</p>
</div>
</div>
<div class="sect3">
<h4 id="_units">Units</h4>
<div class="paragraph">
<p>Protocols quite often specify what units are being transfered. The <strong>CommsDSL</strong>
provides <strong>units</strong> <a href="#intro-properties">property</a> to specify this information.
The code generator may use this information to generate a functionality that allows
retrieval of proper value for requested units, while doing all the conversion
math internally. Such behavior will allow developers, that use generated
protocol code, to focus on their business logic without getting into details
on how value was transfered and what units are used by default.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="Distance" type="uint32" units="mm" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For list of supported <strong>units</strong> values, refer to appended <a href="#appendix-units">units</a>
table.</p>
</div>
<div class="paragraph">
<p>Quite often, <strong>units</strong> and <strong>scaling</strong> need to be used together. For example</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="Latitude" type="int32" units="deg" scaling="1/10000000" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The code generator may generate code that allows retrieval of proper
(floating point) value of either <strong>degrees</strong> or <strong>radians</strong>, while all the
scaling and conversion math is done automatically.</p>
</div>
</div>
<div class="sect3">
<h4 id="_valid_values_2">Valid Values</h4>
<div class="paragraph">
<p>Many protocols specify ranges of values the field is allowed to have and how
client code is expected to behave on reception of invalid values. The code
generator is expected to generate code that checks whether field&#8217;s value
is valid. The <strong>CommsDSL</strong> provides multiple properties to help with such
task.</p>
</div>
<div class="paragraph">
<p>One of such properties if <strong>validRange</strong>. The format of it&#8217;s value is
"[<strong>min_value</strong>, <strong>max_value</strong>]".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint8" validRange="[0, 10]" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is possible to have multiple valid ranges for the same field. However XML
does NOT allow having multiple attributes with the same name. As the result
it is required to put extra valid ranges as <strong>&lt;validRange&gt;</strong> children
elements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint8"&gt;
             &lt;validRange value="[0, 10]" /&gt;
             &lt;validRange value="[25, 40]" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another property is <strong>validValue</strong>, which adds single value (not range) to
already defined valid ranges / values. Just like with <strong>validRange</strong>, multiple
values need to be added as XML children elements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint8" validRange="[0, 10]" validValue="15"&gt;
            &lt;validValue value="40" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are also <strong>validMin</strong> and <strong>validMax</strong>, which specify single
<a href="#intro-numeric">numeric</a> value and are equivalent to having<br>
<code>validRange="[provided_min_value, max_value_allowed_by_type]"</code> and<br>
<code>validRange="[min_value_allowed_by_type, provided_max_value]"</code> respectively.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="int8" validMin="-20" /&gt;
        &lt;int name="SomeOtherIntField" type="int8" validMax="100" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The specified valid ranges and values are allowed to intersect. The code
generator may warn about such cases and/or unify them to limit number of
<strong>if</strong> conditions in the generated code for better performance.</p>
</div>
<div class="paragraph">
<p>If none of the mentioned above validity related options has been used, the
whole range of available values is considered to be valid.</p>
</div>
<div class="paragraph">
<p>All the validity related <a href="#intro-properties">properties</a> mentioned in this
section (<strong>validRange</strong>, <strong>validValue</strong>, <strong>validMin</strong>, and <strong>validMax</strong>) may
also add information about version they were introduced / deprecated in.
Adding such information is possible only when the property is defined as
XML child element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"? version="10"&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint8"&gt;
             &lt;validRange value="[0, 10]" /&gt;
             &lt;validValue value="25" sinceVersion="2" deprecated="5" /&gt;
             &lt;validRange value="[55, 80]" sinceVersion="7" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>sinceVersion</strong> and <strong>deprecated</strong> properties are described in detail as
<a href="#fields-common">Common Properties of Fields</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_based_validity_2">Version Based Validity</h4>
<div class="paragraph">
<p>The code generator is expected to generate functionality checking that
<strong>&lt;int&gt;</strong> field contains a valid value. By default if the field&#8217;s value
is within any of the specified ranges / values, then the it is considered to be valid
regardless of version the containing range was
introduced and/or deprecated. However, it is possible to force code generator to
generate validity check code that takes into account reported version of the
protocol by using <strong>validCheckVersion</strong> <a href="#intro-properties">property</a>, which
is set to <strong>true</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"? version="10"&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint8" validCheckVersion="true"&gt;
             &lt;validRange value="[0, 10]" /&gt;
             &lt;validValue value="25" sinceVersion="2" deprecated="5" /&gt;
             &lt;validRange value="[55, 80]" sinceVersion="7" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_extra_display_properties">Extra Display Properties</h4>
<div class="paragraph">
<p>When <a href="#fields-int-scaling">scaling</a> information is specified, it is possible to notify
GUI analysis tools that value of <strong>&lt;int&gt;</strong> field should be displayed as
scaled floating point number. To do so, use <strong>displayDecimals</strong> <a href="#intro-properties">property</a>
with numeric value of how many digits need to be displayed after decimal point.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="Distance" type="uint32" scaling="1/10000" displayDecimals="4" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also when <a href="#fields-int-serialization-offset">serialization offset</a> is provided, sometimes
it may be desirable to display the value in the GUI analysis tool(s) with such offset.</p>
</div>
<div class="paragraph">
<p>For example, many protocols define some kind of remaining length field
when defining a transport <a href="#frames-frames">frame</a> or other places. Sometimes
the value of such field should also include its own length. However, it
is much more convenient to work with it, when the retrieved value
shows only <strong>remaining</strong> length of subsequent fields, without worrying whether
the value needs to be reduced by the serialization length of holding field, and what exactly
this length is. Such field can be defined like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="RemLength" type="uint16" serOffset="2" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above, the field is expected to hold only <strong>remaining</strong> length,
<strong>excluding</strong> the length of itself, but adding it when value is serialized.</p>
</div>
<div class="paragraph">
<p>However, when such field is displayed in GUI analysis tool(s), it is desirable
to display the value with serialization offset as well. It can be achieved using
<strong>displayOffset</strong> <a href="#intro-properties">property</a> with
<a href="#intro-numeric">numeric</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="RemLength" type="uint16" serOffset="2" displayOffset="2"/&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When <strong>&lt;special&gt;</strong> values are specified the protocol analysis tools are
expected to display them next to actual numeric value of the field. The <strong>displaySpecials</strong>
<a href="#intro-properties">property</a> with <a href="#intro-boolean">boolean</a> value
is there to control this default behavior.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeInt" type="uint8" displaySpecials="false"&gt;
            &lt;special name="S1" val="0" /&gt;
            &lt;special name="S2" val="2" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-int">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-set">&lt;set&gt; Field</h3>
<div class="paragraph">
<p>This field stores and abstracts away value of bitset (bitmask) type.
The <strong>&lt;set&gt;</strong> field has all the <a href="#fields-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="sect3">
<h4 id="fields-set-underlying-type">Underlying Type</h4>
<div class="paragraph">
<p>The underlying type of the <strong>&lt;set&gt;</strong> field can be provided its underlying storage type using
<strong>type</strong> <a href="#intro-properties">property</a>. Available
values are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>uint8</strong> - 1 byte unsigned integer.</p>
</li>
<li>
<p><strong>uint16</strong> - 2 bytes unsigned integer.</p>
</li>
<li>
<p><strong>uint32</strong> - 4 bytes unsigned integer.</p>
</li>
<li>
<p><strong>uint64</strong> - 8 bytes unsigned integer.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;set name="SomeSetield" type="uint8"&gt;
            ...
        &lt;/set&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> that the available types are all fixed length unsigned ones.</p>
</div>
</div>
<div class="sect3">
<h4 id="_serialization_length_2">Serialization Length</h4>
<div class="paragraph">
<p>The <a href="#fields-set-underlying-type">underlying type</a> specification may be omitted
if serialization length (in number of bytes) is specified using <strong>length</strong> property. In this case
<a href="#fields-set-underlying-type">underlying type</a> is automatically selected based on
the provided serialization length.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;set name="SomeSetield" length="1"&gt;
            ...
        &lt;/set&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_length_in_bits_3">Length in Bits</h4>
<div class="paragraph">
<p><strong>&lt;set&gt;</strong> field can be a member of <a href="#fields-bitfield">&lt;bitfield&gt; </a> field.
In this case the serialization length may be specified in bits using <strong>bitLength</strong>
<a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;bitfield name="SomeBitfield"&gt;
            &lt;int name="SomeIntMember" type="uint8" bitLength="4" /&gt;
            &lt;set name="SomeSetMember" bitLength="4" &gt;
                ...
            &lt;/set&gt;
        &lt;/bitfield&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> that the <a href="#fields-set-underlying-type">underlying type</a> information can be
omitted when <strong>bitLength</strong> property is in use, just like with <strong>length</strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_bits">Bits</h4>
<div class="paragraph">
<p>The <strong>&lt;set&gt;</strong> field may list its bits as <strong>&lt;bit&gt;</strong> XML child elements.
Every such element must specify its <a href="#intro-names">name</a> using
<strong>name</strong> property as well as its index using <strong>idx</strong> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;set name="SomeSetField" length="1"&gt;
            &lt;bit name="SomeBitName" idx="0" /&gt;
            &lt;bit name="SomeOtherBitName" idx="1" /&gt;
        &lt;/set&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The bit indexing starts from <strong>least</strong> significant bit, and mustn&#8217;t exceed number
of bits allowed by the <a href="#fields-set-underlying-type">underlying type</a>. The <strong>&lt;bit&gt;</strong>-s
may be listed in any order, not necessarily sorted.</p>
</div>
<div class="paragraph">
<p>The code generator is expected to generate convenience functions (or other means)
to set / get the value of every listed bit.</p>
</div>
<div class="paragraph">
<p>Every <strong>&lt;bit&gt;</strong> element may also define extra <a href="#intro-properties">properties</a>
listed below for better readability:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>description</strong> - Extra description and documentation on the bit.</p>
</li>
<li>
<p><strong>displayName</strong> - String specifying how to name the bit in various analysis tools.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These properties are described in detail in
<a href="#fields-common">Common Properties of Fields</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_default_bit_value">Default Bit Value</h4>
<div class="paragraph">
<p>When the <strong>&lt;set&gt;</strong> field object is default constructed, all bits are initialized
to <strong>false</strong>, i.e. <strong>0</strong>. Such default behavior can be modified using
<strong>defaultValue</strong> <a href="#intro-properties">property</a> with
<a href="#intro-boolean">boolean</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;set name="SomeSetField" length="1" defaultValue="true"&gt;
            &lt;bit name="SomeBitName" idx="0" /&gt;
            &lt;bit name="SomeOtherBitName" idx="1" /&gt;
        &lt;/set&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>SomeSetField</strong> field from the example above is expected to be initialized
to <strong>0xff</strong> when default constructed.</p>
</div>
<div class="paragraph">
<p>The <strong>defaultValue</strong> may also be specified per-bit, which overrides the
<strong>defaultValue</strong> specified for the whole field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;set name="SomeSetField" length="1" defaultValue="true"&gt;
            &lt;bit name="SomeBitName" idx="0" defaultValue="false"/&gt;
            &lt;bit name="SomeOtherBitName" idx="1" /&gt;
        &lt;/set&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>SomeSetField</strong> field from the example above is expected to be initialized
to <strong>0xfe</strong> when default constructed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reserved_bits">Reserved Bits</h4>
<div class="paragraph">
<p>All the bits that aren&#8217;t listed as <strong>&lt;bit&gt;</strong> XML child elements
are considered to be reserved. By default every reserved bit is expected to be
zeroed when field is checked to have a valid value. Such expectation can be changed using
<strong>reservedValue</strong> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;set name="SomeSetField" length="1" defaultValue="true" reservedValue="true"&gt;
            &lt;bit name="SomeBitName" idx="0" defaultValue="false" /&gt;
            &lt;bit name="SomeOtherBitName" idx="1" defaultValue="false"/&gt;
        &lt;/set&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>SomeSetField</strong> field from the example above is expected to be initialized
to <strong>0xfc</strong> and all the reserved (non-listed) bits are expected to remain <strong>true</strong>.</p>
</div>
<div class="paragraph">
<p>Reserved bits can also be specified as <strong>&lt;bit&gt;</strong> XML child element
with usage of <strong>reserved</strong> <a href="#intro-properties">property</a> with
<a href="#intro-boolean">boolean</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;set name="SomeSetField" length="1"&gt;
            &lt;bit name="SomeBitName" idx="0" /&gt;
            &lt;bit name="SomeOtherBitName" idx="1" /&gt;
            &lt;bit name="ReservedBit" idx="2" reserved="true"&gt;
                &lt;defaultValue value="true" /&gt;
                &lt;reservedValue value="true" /&gt;
            &lt;/bit&gt;
        &lt;/set&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example above marks bit <strong>2</strong> to be reserved, that is initialized to
<strong>true</strong> and must always stay <strong>true</strong>.</p>
</div>
<div class="paragraph">
<p>The <strong>SomeSetField</strong> field from the example above is expected to be initialized
to <strong>0x04</strong> when default constructed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_endian_4">Endian</h4>
<div class="paragraph">
<p>The default serialization endian of the protocol is specified in <strong>endian</strong>
property of the <a href="#schema-schema">schema</a>. It is possible to override the
default endian value with extra <strong>endian</strong> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint16" endian="little"&gt;
            &lt;bit name="Bit0" idx="0" /&gt;
            &lt;bit name="Bit5" idx="5" /&gt;
            &lt;bit name="Bit10" idx="10" /&gt;
            &lt;bit name="Bit15" idx="15" /&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_allow_non_unique_bit_names">Allow Non-Unique Bit Names</h4>
<div class="paragraph">
<p>By default, having multiple names for the same bit is not allowed,
the code generator must report an error if two different
<strong>&lt;bit&gt;</strong>-s use the same value of <strong>idx</strong>
property. It is done as protection against copy-paste errors. However,
<strong>CommsDSL</strong> allows usage of multiple names for the same bit in case <strong>nonUniqueAllowed</strong>
<a href="#intro-properties">property</a> has been set to <strong>true</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;set name="SomeSetField" length="1" nonUniqueAllowed="true"&gt;
            &lt;bit name="SomeBitName" idx="0" /&gt;
            &lt;bit name="DifferentName" idx="0" /&gt;
        &lt;/set&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_versioning_2">Versioning</h4>
<div class="paragraph">
<p>In addition to mentioned earlier <a href="#intro-properties">properties</a>,
every <strong>&lt;bit&gt;</strong> element supports extra ones for versioning:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>sinceVersion</strong> - Version of the protocol when the bit was introduced (became non-reserved).</p>
</li>
<li>
<p><strong>deprecated</strong> - Version of the protocol when the value was deprecated (became reserved again).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These extra properties are described in detail in
<a href="#fields-common">Common Properties of Fields</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_based_validity_3">Version Based Validity</h4>
<div class="paragraph">
<p>The code generator is expected to generate functionality checking that
<strong>&lt;set&gt;</strong> field contains a valid value. Any specified non-reserved
bit can have any value, while reserved bits (implicit or explicit) must have value
specified by <strong>reservedValue</strong> property (either of the field or the bit itself).
By default, the validity check must ignore the version in which particular
bit became reserved / non-reserved, and check only values of the bits that have
always stayed reserved. However, it is possible to force code generator to
generate validity check code that takes into account reported version of the
protocol by using <strong>validCheckVersion</strong> <a href="#intro-properties">property</a>, which
is set to <strong>true</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big" version="5"&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint16" validCheckVersion="true"&gt;
            &lt;bit name="Bit0" idx="0" /&gt;
            &lt;bit name="Bit5" idx="5" /&gt;
            &lt;bit name="Bit10" idx="10" sinceVersion="2" /&gt;
            &lt;bit name="Bit15" idx="15" sinceVersion="3" deprecated="4"/&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above bits <strong>0</strong> and <strong>5</strong> will always have valid values. However
bit <strong>10</strong> will be considered valid only if it is cleared before version <strong>2</strong>, and
may have any value after. The bit <strong>15</strong> will be allowed any value when version <strong>3</strong>
of the protocol is reported, and must be cleared for any other version.</p>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-set">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-bitfield">&lt;bitfield&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;bitfield&gt;</strong> is a container field, which allows wrapped member fields
to be serialized using limited number of bits (instead of bytes).
The supported fields, that can be members of the <strong>&lt;bitfield&gt;</strong>, are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#fields-enum">&lt;enum&gt; </a></p>
</li>
<li>
<p><a href="#fields-int">&lt;int&gt; </a></p>
</li>
<li>
<p><a href="#fields-set">&lt;set&gt; </a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Since <strong>v2</strong> of the specification it is also allowed to use
<a href="#fields-ref">&lt;ref&gt; </a> field, which references one of the field types above.</p>
</div>
<div class="paragraph">
<p>The <strong>&lt;bitfield&gt;</strong> field has all the <a href="#fields-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="sect3">
<h4 id="_member_fields">Member Fields</h4>
<div class="paragraph">
<p>Member fields need to be listed as children XML elements of the <strong>&lt;bitfield&gt;</strong>.
Every such member is expected to use <strong>bitLength</strong> property to specify its
serialization length <strong>in bits</strong>. If it is not specified, then length in bits
is calculated automatically as length <strong>in bytes</strong> multiplied by <strong>8</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;bitfield name="SomeBitfield"&gt;
            &lt;int name="SomeIntMember" type="uint8" bitLength="3" /&gt;
            &lt;set name="SomeSetMember" bitLength="3"&gt;
                ...
            &lt;/set&gt;
            &lt;enum name="SomeEnumMember" type="uint8" bitLength="2"&gt;
                ...
            &lt;/enum&gt;
        &lt;/bitfield&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> that summary of all the lengths in bits of all the members must be
divisible by <strong>8</strong> and mustn&#8217;t exceed <strong>64</strong> bits, otherwise the code generator
must report an error.</p>
</div>
<div class="paragraph">
<p>The members of <strong>&lt;bitfield&gt;</strong> must be listed in order starting from the
<strong>least</strong> significant bit. In the example above <strong>SomeIntMember</strong> occupies bits
[0 - 2], <strong>SomeSetMember</strong> occupies bits [3 - 5], and <strong>SomeEnumMember</strong> occupies
bits [6 -7].</p>
</div>
<div class="paragraph">
<p>If there is any other <a href="#intro-properties">property</a> defined as XML child
of the <strong>&lt;bitfield&gt;</strong>, then all the members must be wrapped in
<strong>&lt;members&gt;</strong> XML element for separation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;bitfield name="SomeBitfield"&gt;
            &lt;displayName value="Proper Bitfield Name" /&gt;
            &lt;members&gt;
                &lt;int name="SomeIntMember" type="uint8" bitLength="3" /&gt;
                &lt;set name="SomeSetMember" bitLength="3"&gt;
                    ...
                &lt;/set&gt;
                &lt;enum name="SomeEnumMember" type="uint8" bitLength="2"&gt;
                    ...
                &lt;/enum&gt;
            &lt;/members&gt;
        &lt;/bitfield&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_endian_5">Endian</h4>
<div class="paragraph">
<p>When serializing, the <strong>&lt;bitfield&gt;</strong> object needs to combine the
values of all the members into single unsigned raw value of appropriate length,
and write the received value using appropriate endian.
By default <strong>endian</strong> of the <a href="#schema-schema">schema</a> is used, unless it
is overridden using extra <strong>endian</strong> property of the <strong>&lt;bitfield&gt;</strong> field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;bitfield name="SomeBitfield" endian="little"&gt;
            ...
        &lt;/bitfield&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-bitfield">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-bundle">&lt;bundle&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;bundle&gt;</strong> is a container field, which aggregates multiple
independent fields (of any kind) into a single one.
The <strong>&lt;bundle&gt;</strong> field has all the <a href="#fields-common">common</a> properties.</p>
</div>
<div class="sect3">
<h4 id="_member_fields_2">Member Fields</h4>
<div class="paragraph">
<p>Member fields need to be listed as children XML elements of the <strong>&lt;bundle&gt;</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;bundle name="SomeBundle"&gt;
            &lt;int name="SomeIntMember" type="uint8" /&gt;
            &lt;set name="SomeSetMember" length="1"&gt;
                ...
            &lt;/set&gt;
            &lt;enum name="SomeEnumMember" type="uint8"&gt;
                ...
            &lt;/enum&gt;
            &lt;bundle name="SomeInnerBundle"&gt;
                ...
            &lt;/bundle&gt;
        &lt;/bundle&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If there is any other <a href="#intro-properties">property</a> defined as XML child
of the <strong>&lt;bundle&gt;</strong>, then all the members must be wrapped in
<strong>&lt;members&gt;</strong> XML element for separation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;bundle name="SomeBundle"&gt;
            &lt;displayName value="Proper Bundle Name" /&gt;
            &lt;members&gt;
                &lt;int name="SomeIntMember" type="uint8" bitLength="3" /&gt;
                &lt;set name="SomeSetMember" length="1"&gt;
                    ...
                &lt;/set&gt;
                &lt;enum name="SomeEnumMember" type="uint8"&gt;
                    ...
                &lt;/enum&gt;
                &lt;bundle name="SomeInnerBundle"&gt;
                    ...
                &lt;/bundle&gt;
            &lt;/members&gt;
        &lt;/bundle&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_reusing_other_bundle">Reusing Other Bundle</h4>
<div class="paragraph">
<p>Like any other field, <strong>&lt;bundle&gt;</strong> supports <strong>reuse</strong> of any other <strong>&lt;bundle&gt;</strong>.
Such reuse copies all the fields from original <strong>&lt;bundle&gt;</strong> in addition
to all the properties. Any new defined member field gets <strong>appended</strong> to the copied ones.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;bundle name="SomeBundle"&gt;
            &lt;int name="F1" type="uint32" /&gt;
            &lt;float name="F2" type="float" /&gt;
        &lt;/bundle&gt;

        &lt;bundle name="SomeOtherBundle" reuse="SomeBundle"&gt;
            &lt;string name="F3" length="16" /&gt;
        &lt;/bundle&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above <strong>SomeOtherBundle</strong> has <strong>3</strong> member fields: <strong>F1</strong>, <strong>F2</strong>, and <strong>F3</strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_alias_names_to_member_fields">Alias Names to Member Fields</h4>
<div class="paragraph">
<p>Sometimes an existing member field may be renamed and/or moved. It is possible to
create alias names for the fields to keep the old client code being able to compile
and work. Please refer to <a href="#aliases-aliases">Aliases</a> chapter for more details.</p>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-bundle">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-string">&lt;string&gt; Field</h3>
<div class="paragraph">
<p>This field stores and abstracts away value of a text string.
The <strong>&lt;string&gt;</strong> field has all the <a href="#fields-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="SomeStringField" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Such definition of the <strong>&lt;string&gt;</strong> does <strong>NOT</strong> have any limit on
the length of the string, and will consume all the available data in the
input buffer.</p>
</div>
<div class="sect3">
<h4 id="_default_value_3">Default Value</h4>
<div class="paragraph">
<p>The default value of the <strong>&lt;string&gt;</strong> field when constructed can be specified
using <strong>defaultValue</strong> <a href="#intro-properties">property</a>. If not specified, defaults to empty string.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="SomeStringField" defaultValue="hello" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_fixed_length">Fixed Length</h4>
<div class="paragraph">
<p>In case the string value needs to be serialized using predefined fixed length,
use <strong>length</strong> property to specify the required value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="SomeStringField" length="16" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_length_prefix">Length Prefix</h4>
<div class="paragraph">
<p>Many protocols prefix string with its length. The <strong>CommsDSL</strong> allows definition
of such prefix using <strong>lengthPrefix</strong> child element, which must define prefix as
<a href="#fields-int">&lt;int&gt; </a> field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="SomeStringField"&gt;
            &lt;lengthPrefix&gt;
                &lt;int name="LengthPrefix" type="uint8" /&gt;
            &lt;/lengthPrefix&gt;
        &lt;string&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case the prefix field is defined as external field, <strong>CommsDSL</strong> allows
usage of <strong>lengthPrefix</strong> as <a href="#intro-properties">property</a>, value of
which contains name of the <a href="#intro-references">referenced</a> field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="StringLengthPrefix" type="uint8" /&gt;
        &lt;string name="SomeStringField" lengthPrefix="StringLengthPrefix" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>CommsDSL</strong> also supports <strong>detached</strong> length prefix, when there are
several other fields in the <a href="#messages-messages">&lt;message&gt; </a> or in the
<a href="#fields-bundle">&lt;bundle&gt; </a> between the length field and the <strong>&lt;string&gt;</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;bundle name=SomeBundle"&gt;
            &lt;int name="StringLengthPrefixMember" type="uint8" /&gt;
            &lt;int name="SomeOtherFieldMember" type="uint8" /&gt;
            &lt;string name="SomeStringFieldMember" lengthPrefix="$StringLengthPrefixMember" /&gt;
        &lt;/bundle&gt;
    &lt;/fields&gt;

    &lt;message name="Msg1" id="1"&gt;
        &lt;int name="StringLengthPrefix" type="uint8" /&gt;
        &lt;int name="SomeOtherField" type="uint8" /&gt;
        &lt;string name="SomeStringField" lengthPrefix="$StringLengthPrefix" /&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, the existence of <strong>$</strong> prefix when specifying <strong>lengthPrefix</strong> value.
It indicates that the referenced field is a sibling in the containing
<a href="#messages-messages">&lt;message&gt; </a> or the
<a href="#fields-bundle">&lt;bundle&gt; </a> field.</p>
</div>
<div class="paragraph">
<p>The code generator is expected to take the existence of such detached prefix
into account and generate correct code for various field operations
(read, write, etc&#8230;&#8203;).</p>
</div>
</div>
<div class="sect3">
<h4 id="_zero_termination_suffix">Zero Termination Suffix</h4>
<div class="paragraph">
<p>Some protocols may terminate strings with <strong>0</strong> (zero) byte. The <strong>CommsDSL</strong>
support such cases with existence of <strong>zeroTermSuffix</strong> <a href="#intro-properties">property</a>
with <a href="#intro-boolean">boolean</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="SomeStringField" zeroTermSuffix="true" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that <strong>length</strong>, <strong>lengthPrefix</strong> and <strong>zeroTermSuffix</strong> properties
are mutually exclusive, i.e. cannot be used together.</p>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-string">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-data">&lt;data&gt; Field</h3>
<div class="paragraph">
<p>This field stores and abstracts away value of a raw bytes data.
The <strong>&lt;data&gt;</strong> field has all the <a href="#fields-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;data name="SomeDataField" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Such definition of the <strong>&lt;data&gt;</strong> does <strong>NOT</strong> have any limit on
the length of the data, and will consume all the available bytes in the
input buffer.</p>
</div>
<div class="sect3">
<h4 id="_default_value_4">Default Value</h4>
<div class="paragraph">
<p>The default value of the <strong>&lt;data&gt;</strong> field when constructed can be specified
using <strong>defaultValue</strong> <a href="#intro-properties">property</a>. The value of the
property must be case-insestive string of hexadecimal values with even number
of characters. The allowed ranges of the characters are: [`0' - `9'], and [`a' - `f'].
The ' ' (space) character is also allowed for convenient separation of the bytes.
If not specified, defaults to empty data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;data name="SomeDataField" defaultValue="0123 45 67 89 ab cd eF" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example above is expected to create approprate raw data abstracting field,
containing 8 bytes: [0x01, 0x23, 0x45, 0x67, 0x89, 0xab, 0xcd, 0xef] when
default constructed.</p>
</div>
</div>
<div class="sect3">
<h4 id="_fixed_length_2">Fixed Length</h4>
<div class="paragraph">
<p>In case the data value needs to be serialized using predefined fixed length,
use <strong>length</strong> property to specify the required value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;data name="SomeDataField" length="16" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_length_prefix_2">Length Prefix</h4>
<div class="paragraph">
<p>Many protocols prefix raw binary data with its length. The <strong>CommsDSL</strong> allows definition
of such prefix using <strong>lengthPrefix</strong> child element, which must define prefix as
<a href="#fields-int">&lt;int&gt; </a> field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;data name="SomeDataField"&gt;
            &lt;lengthPrefix&gt;
                &lt;int name="LengthPrefix" type="uint16" /&gt;
            &lt;/lengthPrefix&gt;
        &lt;data&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case the prefix field is defined as external field, <strong>CommsDSL</strong> allows
usage of <strong>lengthPrefix</strong> as <a href="#intro-properties">property</a>, value of
which contains name of the referenced field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="DataLengthPrefix" type="uint8" /&gt;
        &lt;data name="SomeDataField" lengthPrefix="DataLengthPrefix" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>CommsDSL</strong> also supports <strong>detached</strong> length prefix, when there are
several other fields in the <a href="#messages-messages">&lt;message&gt; </a> or in the
<a href="#fields-bundle">&lt;bundle&gt; </a> between the length field and the <strong>&lt;data&gt;</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;bundle name=SomeBundle"&gt;
            &lt;int name="DataLengthPrefixMember" type="uint16" /&gt;
            &lt;int name="SomeOtherFieldMember" type="uint16" /&gt;
            &lt;data name="SomeDataFieldMember" lengthPrefix="$DataLengthPrefixMember" /&gt;
        &lt;/bundle&gt;
    &lt;/fields&gt;

    &lt;message name="Msg1" id="1"&gt;
        &lt;int name="DataLengthPrefix" type="uint16" /&gt;
        &lt;int name="SomeOtherField" type="uint16" /&gt;
        &lt;data name="SomeDataField" lengthPrefix="$DataLengthPrefix" /&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, the existence of <strong>$</strong> prefix when specifying <strong>lengthPrefix</strong> value.
It indicates that the referenced field is a sibling in the containing
<a href="#messages-messages">&lt;message&gt; </a> or the
<a href="#fields-bundle">&lt;bundle&gt; </a> field.</p>
</div>
<div class="paragraph">
<p>The code generator is expected to take the existence of such detached prefix
into account and generate correct code for various field operations
(read, write, etc&#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that <strong>length</strong> and <strong>lengthPrefix</strong> properties
are mutually exclusive, i.e. cannot be used together.</p>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-data">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-list">&lt;list&gt; Field</h3>
<div class="paragraph">
<p>This field stores and abstracts away a list of other fields.
The <strong>&lt;list&gt;</strong> field has all the <a href="#fields-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="sect3">
<h4 id="_element_field_of_the_list">Element Field of the List</h4>
<div class="paragraph">
<p>Every <strong>&lt;list&gt;</strong> must specify its element <a href="#fields-fields">field</a>. The
element field can be defined as XML child of the <strong>&lt;list&gt;</strong> definition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;list name="SomeListField"&gt;
            &lt;int name="Element" type="uint32" /&gt;
        &lt;/list&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If a list element contains multiple fields, they must be bundled as members
of the <a href="#fields-bundle">&lt;bundle&gt; </a> field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;list name="SomeListField"&gt;
            &lt;bundle name="Element"&gt;
                &lt;int name="Mem1" type="uint32" /&gt;
                &lt;int name="Mem2" type="int16" /&gt;
                &lt;enum name="Mem3" type="uint16"&gt;
                    ...
                &lt;/enum&gt;
            &lt;/bundle&gt;
        &lt;/list&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case other properties of the <strong>&lt;list&gt;</strong> field are defined as child
XML elements, then the element field definition needs to be wrapped by
<strong>&lt;element&gt;</strong> XML child.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;list name="SomeListField"&gt;
            &lt;displayName value="Some descriptive name" /&gt;
            &lt;element&gt;
                &lt;bundle name="Element"&gt;
                    ...
                &lt;/bundle&gt;
            &lt;/element&gt;
        &lt;/list&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>CommsDSL</strong> also allows reference of externally defined field to be
an element using <strong>element</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;bundle name="ExternallyDefinedElement"&gt;
            ...
        &lt;/bundle&gt;

        &lt;list name="SomeListField" element="ExternallyDefinedElement" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_fixed_count">Fixed Count</h4>
<div class="paragraph">
<p>If the defined list must contain predefined number of elements, use <strong>count</strong>
<a href="#intro-properties">property</a> to provide the required information.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;list name="SomeListField" count="8"&gt;
            &lt;int name="Element" type="uint32" /&gt;
        &lt;/list&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fields-list-count-prefix">Count Prefix</h4>
<div class="paragraph">
<p>Most protocols prefix the variable length lists with number of elements that
are going to follow, use <strong>countPrefix</strong> child XML element to specify a field
that is going to be used as such prefix.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;list name="SomeListField"&gt;
            &lt;element&gt;
                &lt;int name="Element" type="uint32" /&gt;
            &lt;/element&gt;
            &lt;countPrefix&gt;
                &lt;int name="CountPrefix" type="uint16" /&gt;
            &lt;/countPrefix&gt;
        &lt;/list&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case the count prefix field is defined as external field, <strong>CommsDSL</strong> allows
usage of <strong>countPrefix</strong> as <a href="#intro-properties">property</a>, value of
which contains name of the referenced field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="ExternalCountPrefix" type="uint16" /&gt;

        &lt;list name="SomeListField" countPrefix="ExternalCountPrefix"&gt;
            &lt;int name="Element" type="uint32" /&gt;
        &lt;/list&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>CommsDSL</strong> also supports <strong>detached</strong> count prefix, when there are
several other fields in the <a href="#messages-messages">&lt;message&gt; </a> or in the
<a href="#fields-bundle">&lt;bundle&gt; </a> between the count field and the <strong>&lt;list&gt;</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;bundle name=SomeBundle"&gt;
            &lt;int name="DataCountPrefixMember" type="uint16" /&gt;
            &lt;int name="SomeOtherFieldMember" type="uint16" /&gt;
            &lt;list name="SomeDataFieldMember" countPrefix="$DataCountPrefixMember"&gt;
                ...
            &lt;/list&gt;
        &lt;/bundle&gt;
    &lt;/fields&gt;

    &lt;message name="Msg1" id="1"&gt;
        &lt;int name="DataCountPrefix" type="uint16" /&gt;
        &lt;int name="SomeOtherField" type="uint16" /&gt;
        &lt;list name="SomeListField" countPrefix="$DataCountPrefix"&gt;
            ...
        &lt;/list&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, the existence of <strong>$</strong> prefix when specifying <strong>countPrefix</strong> value.
It indicates that the referenced field is a sibling in the containing
<a href="#messages-messages">&lt;message&gt; </a> or the
<a href="#fields-bundle">&lt;bundle&gt; </a> field.</p>
</div>
<div class="paragraph">
<p>The code generator is expected to take the existence of such detached prefix
into account and generate correct code for various field operations
(read, write, etc&#8230;&#8203;).</p>
</div>
</div>
<div class="sect3">
<h4 id="_length_prefix_3">Length Prefix</h4>
<div class="paragraph">
<p>There are protocols that prefix a list with <strong>serialization length</strong> rather
than number of elements. In this case use <strong>lengthPrefix</strong> instead of <strong>countPrefix</strong>.
The allowed usage scenarios are exactly the same as described above in
the <a href="#fields-list-count-prefix">Count Prefix</a> section.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;list name="List1"&gt;
            &lt;element&gt;
                &lt;int name="Element" type="uint32" /&gt;
            &lt;/element&gt;
            &lt;lengthPrefix&gt;
                &lt;int name="LengthPrefix" type="uint16" /&gt;
            &lt;/lengthPrefix&gt;
        &lt;/list&gt;

        &lt;int name="ExternalLengthPrefix" type="uint16" /&gt;
        &lt;list name="List2" lengthPrefix="ExternalLengthPrefix"&gt;
            &lt;int name="Element" type="uint32" /&gt;
        &lt;/list&gt;
    &lt;/fields&gt;

    &lt;message name="Msg1" id="1"&gt;
        &lt;int name="DetachedLengthPrefix" type="uint16" /&gt;
        &lt;int name="SomeOtherField" type="uint16" /&gt;
        &lt;list name="List3" lengthPrefix="$DetachedLengthPrefix"&gt;
            ...
        &lt;/list&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that <strong>count</strong>, <strong>countPrefix</strong> and <strong>lengthPrefix</strong> properties
are mutually exclusive, i.e. cannot be used together.</p>
</div>
</div>
<div class="sect3">
<h4 id="_element_length_prefix">Element Length Prefix</h4>
<div class="paragraph">
<p>Some protocols prefix every element with its serialization length for the
forward / backward compatibility of the protocol. If there is such need, use <strong>elemLengthPrefix</strong>
to specify a field that will prefix every element of the list.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;list name="List1"&gt;
            &lt;element&gt;
                &lt;bundle name="Element&gt;
                    ...
                &lt;/bundle&gt;
            &lt;/element&gt;
            &lt;countPrefix&gt;
                &lt;int name="CountPrefix" type="uint16" /&gt;
            &lt;/countPrefix&gt;
            &lt;elemLengthPrefix&gt;
                &lt;int name="ElemLengthPrefix" type="uint8" /&gt;
            &lt;/elemLengthPrefix&gt;
        &lt;/list&gt;

        &lt;int name="ExternalElemLengthPrefix" type="uint8" /&gt;
        &lt;list name="List2" count="16" elemLengthPrefix="ExternalElemLengthPrefix"&gt;
            &lt;bundle name="Element&gt;
                ...
            &lt;/bundle&gt;
        &lt;/list&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case every list element has fixed length and protocol specification doesn&#8217;t
allow adding extra variable length fields to the element in the future, some
protocols prefix only <strong>first</strong> element in the list with its serialization
length. <strong>CommsDSL</strong> supports such lists with <strong>elemFixedLength</strong>
<a href="#intro-properties">property</a>, that has <a href="#intro-boolean">boolean</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;list name="SomeListField" elemFixedLength="true" count="8"&gt;
            &lt;element&gt;
                &lt;bundle name="Element"&gt;
                    &lt;int name="Mem1" type="uint32" /&gt;
                    &lt;int name="Mem2" type="uint32" /&gt;
                    ...
                &lt;/bundle&gt;
            &lt;/element&gt;
            &lt;elemLengthPrefix&gt;
                &lt;int name="ElemLengthPrefix" type="uint8" /&gt;
            &lt;/elemLenghtPrefix&gt;
        &lt;/list&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The code generator must report an error when element of such list
(with <strong>elemFixedLength</strong> property set to <strong>true</strong>) has variable length.</p>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-list">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-float">&lt;float&gt; Field</h3>
<div class="paragraph">
<p>This field stores and abstracts away value of floating poing type with
<a href="https://en.wikipedia.org/wiki/IEEE_754">IEEE 754</a> encoding.
The <strong>&lt;float&gt;</strong> field has all the <a href="#fields-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="sect3">
<h4 id="fields-float-underlying-type">Underlying Type</h4>
<div class="paragraph">
<p>Every <strong>&lt;float&gt;</strong> field must provide its underlying storage type using
<strong>type</strong> <a href="#intro-properties">property</a>. Available
values are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>float</strong> - 4 byte floating point representation.</p>
</li>
<li>
<p><strong>double</strong> - double precision 8 bytes floating point representation.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="F1" type="float" /&gt;
        &lt;float name="F2" type="double" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="fields-float-special-values">Special Values</h4>
<div class="paragraph">
<p>Some protocol may set a special meaning for some values.
Such values (if exist) must be listed as <strong>&lt;special&gt;</strong> child of the
<strong>&lt;float&gt;</strong> XML element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double"&gt;
            &lt;special name="Special1" val="1.0" /&gt;
            &lt;special name="Special2" val="5.0" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The code generator is expected to generate extra convenience functions that
check whether field has special value as well as updating the stored value
with special one.</p>
</div>
<div class="paragraph">
<p>Every <strong>&lt;special&gt;</strong> must define a valid <a href="#intro-names">name</a>
(using <strong>name</strong> <a href="#intro-properties">property</a>) as
well as floating point value (using <strong>val</strong>
<a href="#intro-properties">property</a>), that fits chosen
<a href="#fields-float-underlying-type">underlying type</a>. The <strong>&lt;special&gt;</strong>-s may be listed
in any order, not necessarily sorted.</p>
</div>
<div class="paragraph">
<p>In addition to floating point numbers, the <strong>val</strong> property may also cantain
the following case-insensitive strings.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>nan</strong> - Represents NaN value.</p>
</li>
<li>
<p><strong>inf</strong> - Represents positivie infinity.</p>
</li>
<li>
<p><strong>-inf</strong> - Represents negative infinity.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double"&gt;
            &lt;special name="Invalid" val="nan" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Every <strong>&lt;special&gt;</strong> has extra optional properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>description</strong> - Extra description and documentation on how to use the value.</p>
</li>
<li>
<p><strong>sinceVersion</strong> - Version of the protocol when the special name / meaning was introduced.</p>
</li>
<li>
<p><strong>deprecated</strong> - Version of the protocol when the special name / meaning was deprecated.</p>
</li>
<li>
<p><strong>displayName</strong> - Readable name to display for the special value in protocol debugging and visualization tools.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All these extra properties are described in detail in
<a href="#fields-common">Common Properties of Fields</a>.</p>
</div>
<div class="paragraph">
<p>By default, non-unqiue special values (different name for the same value) are
not allowed, the code generator must report
an error if two different <strong>&lt;special&gt;</strong>-es use the same value of the <strong>val</strong>
property. It is done as protection against copy-paste errors. However,
<strong>CommsDSL</strong> allows usage of non-unique values in case <strong>nonUniqueSpecialsAllowed</strong>
<a href="#intro-properties">property</a> has been set to <strong>true</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloat" type="float" nonUniqueSpecialsAllowed="true"&gt;
            &lt;special name="S1" val="0.0" /&gt;
            &lt;special name="S2" val="0.0" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_default_value_5">Default Value</h4>
<div class="paragraph">
<p>The default value of the <strong>&lt;float&gt;</strong> field when constructed can be specified
using <strong>defaultValue</strong> property. If not specified, defaults to <strong>0.0</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double" defaultValue="5.0" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The default value can also be specified using the name of one of the
<strong>&lt;special&gt;</strong>-s:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double" defaultValue="Special2"&gt;
            &lt;special name="Special1" val="nan" /&gt;
            &lt;special name="Special2" val="-inf" /&gt;
        &lt;/float&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Just like with <a href="#fields-float-special-values">special values</a>, the value of the
<strong>defaultValue</strong> <a href="#intro-properties">property</a> can also be either <strong>nan</strong>,
<strong>inf</strong> or <strong>-inf</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double" defaultValue="nan" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_endian_6">Endian</h4>
<div class="paragraph">
<p>The default serialization endian of the protocol is specified in <strong>endian</strong>
property of the <a href="#schema-schema">schema</a>. It is possible to override the
default endian value with extra <strong>endian</strong> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double" endian="little" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_units_2">Units</h4>
<div class="paragraph">
<p>Protocols quite often specify what units are being transfered. The <strong>CommsDSL</strong>
provides <strong>units</strong> <a href="#intro-properties">property</a> to specify this information.
The code generator may use this information to generate a functionality that allows
retrieval of proper value for requested units, while doing all the conversion
math internally. Such behavior will allow developers, that use generated
protocol code, to focus on their business logic without getting into details
on how value was transfered.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double" units="mm" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For list of supported <strong>units</strong> values, refer to appended <a href="#appendix-units">units</a>
table.</p>
</div>
</div>
<div class="sect3">
<h4 id="_valid_values_3">Valid Values</h4>
<div class="paragraph">
<p>Many protocols specify ranges of values the field is allowed to have and how
client code is expected to behave on reception of invalid values. The code
generator is expected to generate code that checks whether field&#8217;s value
is valid. The <strong>CommsDSL</strong> provides multiple properties to help with such
task.</p>
</div>
<div class="paragraph">
<p>One of such properties is <strong>validRange</strong>. The format of it&#8217;s value is
"[<strong>min_value</strong>, <strong>max_value</strong>]".</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double" validRange="[-100.0, 100.0]" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is possible to have multiple valid ranges for the same field. However XML
does NOT allow having multiple attributes with the same name. As the result
it is required to put extra valid ranges as <strong>&lt;validRange&gt;</strong> children
elements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double"&gt;
             &lt;validRange value="[-100.0, 100.0]" /&gt;
             &lt;validRange value="[250.0, 444.56]" /&gt;
        &lt;/float&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another property is <strong>validValue</strong>, which adds single value (not range) to
already defined valid ranges / values. Just like with <strong>validRange</strong>, multiple
values need to be added as XML children elements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double" validRange="[-100, 100]" validValue="200.0"&gt;
            &lt;validValue value="nan" /&gt;
        &lt;/float&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>validValue</strong> property allows adding special values (<strong>nan</strong>, <strong>inf</strong>,
and <strong>-inf</strong>) to available valid values / ranges.</p>
</div>
<div class="paragraph">
<p>There are also <strong>validMin</strong> and <strong>validMax</strong>, which specify single
floating point value and are equivalent to having<br>
<code>validRange="[provided_min_value, max_value_allowed_by_type]"</code> and<br>
<code>validRange="[min_value_allowed_by_type, provided_max_value]"</code> respectively.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double" validMin="-20.0" /&gt;
        &lt;float name="SomeOtherFloatField" type="double" validMax="100.0" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The specified valid ranges and values are allowed to intersect. The code
generator may warn about such cases and/or unify them to limit number of
<strong>if</strong> conditions in the generated code for better performance.</p>
</div>
<div class="paragraph">
<p>If none of the mentioned above validity related options has been used, the
whole range of available values is considered to be valid, including
extra values <strong>nan</strong>, <strong>inf</strong>, and <strong>-inf</strong>.</p>
</div>
<div class="paragraph">
<p>In case <strong>nan</strong>, <strong>inf</strong>, and <strong>-inf</strong> need to be excluded from a range of valid
values, but all the available floating point values are considered to be valid,
then <strong>validFullRange</strong> <a href="#intro-properties">property</a> with
<a href="#intro-boolean">boolean</a> value needs to be used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double" validFullRange="true" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>All the validity related <a href="#intro-properties">properties</a> mentioned in this
section (<strong>validRange</strong>, <strong>validValue</strong>, <strong>validMin</strong>, <strong>validMax</strong>) may
also add information about version they were introduced / deprecated in.
Adding such information is possible only when the property is defined as
XML child element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"? version="10"&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="float"&gt;
             &lt;validRange value="[0.0, 10.0]" /&gt;
             &lt;validValue value="25.0" sinceVersion="2" deprecated="5" /&gt;
             &lt;validRange value="[55.0, 80.0]" sinceVersion="7" /&gt;
        &lt;/float&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>sinceVersion</strong> and <strong>deprecated</strong> properties are described in detail as
<a href="#fields-common">Common Properties of Fields</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_version_based_validity_4">Version Based Validity</h4>
<div class="paragraph">
<p>The code generator is expected to generate functionality checking that
<strong>&lt;float&gt;</strong> field contains a valid value. By default if the field&#8217;s value
is within any of the specified ranges / values, then the it is considered to be valid
regardless of version the containing range was
introduced and/or deprecated. However, it is possible to force code generator to
generate validity check code that takes into account reported version of the
protocol by using <strong>validCheckVersion</strong> <a href="#intro-properties">property</a>, which
is set to <strong>true</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"? version="10"&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="float" validCheckVersion="true"&gt;
             &lt;validRange value="[0.0, 10.0]" /&gt;
             &lt;validValue value="25" sinceVersion="2" deprecated="5" /&gt;
             &lt;validRange value="[55, 80]" sinceVersion="7" /&gt;
        &lt;/float&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_extra_display_properties_2">Extra Display Properties</h4>
<div class="paragraph">
<p>When displaying the floating point value, held by the <strong>&lt;float&gt;</strong> field,
GUI analysis tools require knowledge on how many digits after decimal point
need to be displayed. To provide this information, use <strong>displayDecimals</strong> <a href="#intro-properties">property</a>
with numeric value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="float" displayDecimals="4" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If value of <strong>displayDecimals</strong> is <strong>0</strong>, then it is up to the GUI tool
to choose how many digits after decimal point to display.</p>
</div>
<div class="paragraph">
<p>When <strong>&lt;special&gt;</strong> values are specified the protocol analysis tools are
expected to display them next to actual numeric value of the field. The <strong>displaySpecials</strong>
<a href="#intro-properties">property</a> with <a href="#intro-boolean">boolean</a> value
is there to control this default behavior.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloat" type="float" displaySpecials="false"&gt;
            &lt;special name="S1" val="0.0" /&gt;
            &lt;special name="S2" val="nan" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-float">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-ref">&lt;ref&gt; Field</h3>
<div class="paragraph">
<p>This field serves as reference (alias) to other fields. It can be used
to avoid duplication of field definition for multiple messages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"? version="10"&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint8" defaultValue="Special2"&gt;
            &lt;displayName value="Some Int Field" /&gt;
            &lt;special name="Special1" val="0" /&gt;
            &lt;special name="Special2" val="0xff" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;

    &lt;message name="Msg1" id="1"&gt;
        &lt;ref field="SomeIntField" /&gt;
        ...
    &lt;/message&gt;

    &lt;message name="Msg2" id="2"&gt;
        &lt;ref field="SomeIntField" name="RenamedIntField" /&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>&lt;ref&gt;</strong> field has all the <a href="#fields-common">common</a> properties. It
also copies <strong>name</strong>, <strong>displayName</strong> and <strong>semanticType</strong> <a href="#intro-properties">properties</a>
from the referenced field and allows overriding them with new values.
Note, that in the example above <strong>&lt;ref&gt;</strong> field defined as a member of
<strong>Msg1</strong> message hasn&#8217;t provided any <strong>name</strong> value. It is allowed because
it has taken a name of the referenced field (<strong>SomeIntField</strong>).</p>
</div>
<div class="sect3">
<h4 id="_referencing_the_field">Referencing the Field</h4>
<div class="paragraph">
<p>The only extra property the <strong>&lt;ref&gt;</strong> field has is <strong>field</strong> to
specify a <a href="#intro-references">reference</a> to other field.</p>
</div>
</div>
<div class="sect3">
<h4 id="_length_in_bits_4">Length in Bits</h4>
<div class="paragraph">
<p>Since <strong>v2</strong> of this specification it is allowed to use <strong>&lt;ref&gt;</strong> field
as member of the <a href="#fields-bitfield">&lt;bitfield&gt; </a> field while referencing one
of the allowed member types. In such case it is required to use <strong>bitLength</strong>
property to specify length in bits.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnum" type="uint8"&gt;
            &lt;validValue name="V1" val="0" /&gt;
            &lt;validValue name="V2" val="1" /&gt;
            &lt;validValue name="V3" val="2" /&gt;
        &lt;/enum&gt;

        &lt;bitfield name="SomeBitfield"&gt;
            &lt;int name="SomeIntMember" type="uint8" bitLength="3" /&gt;
            &lt;set name="SomeSetMember" bitLength="3"&gt;
                ...
            &lt;/set&gt;
            &lt;ref field="SomeEnum" bitLength="2" /&gt;
        &lt;/bitfield&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-ref">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-optional">&lt;optional&gt; Field</h3>
<div class="paragraph">
<p>This field wraps other <a href="#fields-fields">fields</a> and makes the wrapped field optional, i.e.
the serialization of the latter may be skipped if it is marked as "missing".
The <strong>&lt;optional&gt;</strong> field has all the <a href="#fields-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="sect3">
<h4 id="_inner_wrapped_field">Inner (Wrapped) Field</h4>
<div class="paragraph">
<p>Every <strong>&lt;optional&gt;</strong> must specify its inner <a href="#fields-fields">field</a>. The
wrapped field can be defined as XML child of the <strong>&lt;optional&gt;</strong> definition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;optional name="SomeOptionalField"&gt;
            &lt;int name="SomeOptionalField" type="uint32" /&gt;
        &lt;/optional&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case other properties of the <strong>&lt;optional&gt;</strong> field are defined as child
XML elements, then the element field definition needs to be wrapped by
<strong>&lt;field&gt;</strong> XML child.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;optional name="SomeOptionalField"&gt;
            &lt;displayName value="Some descriptive name" /&gt;
            &lt;field&gt;
                &lt;int name="SomeOptionalField" type="uint32" /&gt;
            &lt;/field&gt;
        &lt;/optional&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>CommsDSL</strong> also allows reference of externally defined field to be
specified as inner (wrapped) field type using <strong>field</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeExternalField" type="uint32" /&gt;
        &lt;optional name="SomeOptionalField" field="SomeExternalField" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_default_mode">Default Mode</h4>
<div class="paragraph">
<p>Every <strong>&lt;optional&gt;</strong> field has 3 modes: <strong>tenative</strong> (default), <strong>exist</strong>,
and <strong>missing</strong>. The <strong>exist</strong> and <strong>missing</strong> modes are self explanatory.
The <strong>tentative</strong> mode is there to perform <strong>read</strong> operation on the inner field
only if there are non-consumed bytes left in the input buffer. This mode
can be useful with protocols that just add fields at the end of the
<a href="#messages-messages">message</a> in the new version,
but the protocol itself doesn&#8217;t report its version in any other way.</p>
</div>
<div class="paragraph">
<p>The default mode of the newly constructed <strong>&lt;optional&gt;</strong> field can be
specified using <strong>defaultMode</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;optional name="SomeOptionalField" defaultMode="missing"&gt;
            &lt;int name="SomeOptionalField" type="uint32" /&gt;
        &lt;/optional&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_existence_condition">Existence Condition</h4>
<div class="paragraph">
<p>Many protocols introduce optional fields, and the existence of such fields
depend on the value of some other field. Classic example would be having
some kind of flags field (see <a href="#fields-set"><strong>&lt;set&gt;</strong> </a>) where some bit specifies
whether other field that follows exists or not. Such conditions can be expressed
using <strong>cond</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1"&gt;
        &lt;set name="Flags"&gt;
            &lt;bit name="Val1Exists" idx="0" /&gt;
        &lt;/set&gt;
        &lt;optional name="Val1" defaultMode="missing" cond="$Flags.Val1Exists"&gt;
            &lt;int name="WrappedVal1" type="uint32" /&gt;
        &lt;/optional&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that <strong>cond</strong> property can be used only for <strong>&lt;optional&gt;</strong> field
that is a member of a <a href="#fields-bundle">&lt;bundle&gt; </a> or a
<a href="#messages-messages">&lt;message&gt; </a>. The <strong>cond</strong> expression
specifies condition when the <strong>&lt;optional&gt;</strong> field exists, and must always
reference other <strong>sibling</strong> field. Such reference is always prefixed with <strong>$</strong> character
to indicate that the field is a <strong>sibling</strong> of the <strong>&lt;optional&gt;</strong> and
not some external field.</p>
</div>
<div class="paragraph">
<p>The allowed <strong>cond</strong> expressions are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>$<em>set_field_name.bit_name</em> - The wrapped field exists if specified bit is set to <strong>true</strong> (<strong>1</strong>).</p>
</li>
<li>
<p>!$<em>set_field_name.bit_name</em> - The wrapped field exists if specified bit is set to <strong>false</strong> (<strong>0</strong>).</p>
</li>
<li>
<p>$<em>field_name</em> <em>compare_op</em> <em>value</em> - The wrapped field exists if comparison
of the specified field with specified value is true. The <strong>compare_op</strong> can be:
<strong>=</strong> (equality), <strong>!=</strong> (inequality), <strong>&lt;</strong> (less than), <strong>&lt;=</strong> (less than or equal),
<strong>&gt;</strong> (greater than), <strong>&gt;=</strong> (greater than or equal).</p>
</li>
<li>
<p>$<em>field_name</em> <em>compare_op</em> $<em>other_field_name</em> - The wrapped field exists if comparison
of the specified fields is true.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong><span class="red">NOTE</span></strong>, that XML doesn&#8217;t allow usage of <code>&lt;</code>
or <code>&gt;</code> symbols in condition values directly. They need to be substituted with <code>&lt;</code> and
<code>&gt;</code> strings respectively.</p>
</div>
<div class="paragraph">
<p>For example, there are 2 normal fields followed by a third optional one. The
latter exists, only if value of <strong>F1</strong> is less than value of <strong>F2</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1"&gt;
        &lt;int name="F1" type="uint16" /&gt;
        &lt;int name="F2" type="uint16" /&gt;
        &lt;optional name="F3" defaultMode="exists" cond="$F1 &amp;lt; $F2"&gt;
            &lt;int name="WrappedF3" type="uint32" /&gt;
        &lt;/optional&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_multiple_existence_conditions">Multiple Existence Conditions</h4>
<div class="paragraph">
<p>The <strong>CommsDSL</strong> also allows usage of multiple existence condition statements. However,
they need to be wrapped by either <strong>&lt;and&gt;</strong> or <strong>&lt;or&gt;</strong>
XML child elements, which represent "<strong>and</strong>" and "<strong>or</strong>" logical conditions
respectively.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1"&gt;
        &lt;int name="F1" type="uint16" /&gt;
        &lt;int name="F2" type="uint16" /&gt;
        &lt;optional name="F3" defaultMode="exists"&gt;
            &lt;field&gt;
                &lt;int name="WrappedF3" type="uint32" /&gt;
            &lt;/field&gt;
            &lt;or&gt;
                &lt;cond value="$F1 = 0" /&gt;
                &lt;and&gt;
                    &lt;cond value="$F1 = 1" /&gt;
                    &lt;cond value="$F2 != 0" /&gt;
                &lt;/and&gt;
            &lt;/or&gt;
        &lt;/optional&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example the <strong>F3</strong> field exists in one of the following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Value of <strong>F1</strong> is 0.</p>
</li>
<li>
<p>Value of <strong>F1</strong> is 1 and value of <strong>F2</strong> is not 0.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_extra_display_property">Extra Display Property</h4>
<div class="paragraph">
<p>By default GUI protocol analysis tools should allow manual update of the
<strong>&lt;optional&gt;</strong> field mode. However, if the mode is controlled by the
values of other fields, it is possible to disable manual update of the
mode by using <strong>displayExtModeCtrl</strong>
(stands for "display external mode control") <a href="#intro-properties">property</a>
with <a href="#intro-boolean">boolean</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1"&gt;
        &lt;set name="Flags"&gt;
            &lt;bit name="Val1Exists" idx="0" /&gt;
        &lt;/set&gt;
        &lt;optional name="Val1" defaultMode="missing" cond="$Flags.Val1Exists"&gt;
            &lt;displayExtModeCtrl value="true" /&gt;
            &lt;field&gt;
                &lt;int name="WrappedVal1" type="uint32" /&gt;
            &lt;/field&gt;
        &lt;/optional&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-optional">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-variant">&lt;variant&gt; Field</h3>
<div class="paragraph">
<p>This field is basically a <strong>union</strong> of other <a href="#fields-fields">fields</a>.
It can hold only one field at a time out of the provided list of supported
<a href="#fields-fields">fields</a>. The <strong>&lt;variant&gt;</strong> field has all the <a href="#fields-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="sect3">
<h4 id="_member_fields_3">Member Fields</h4>
<div class="paragraph">
<p>The <strong>&lt;variant&gt;</strong> field is there to support heterogeneous lists of fields.
The classic example would be a list of <strong>key-value</strong> pairs, where numeric <strong>key</strong>
defines what type of <strong>value</strong> follows. Similar to <a href="#fields-bundle">&lt;bundle&gt; </a>
field, member fields need to be listed as children XML elements of the <strong>&lt;variant&gt;</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;int name="Key" type="uint8" failOnInvalid="true" displayReadOnly="true" /&gt;

        &lt;variant name="Property"&gt;
            &lt;bundle name="Prop1"&gt;
                &lt;int reuse="Key" defaultValue="0" validValue="0" /&gt;
                &lt;int name="Value" type="uint32" /&gt;
            &lt;/bundle&gt;
            &lt;bundle name="Prop2"&gt;
                &lt;int reuse="Key" defaultValue="1" validValue="1" /&gt;
                &lt;string name="Value" length="16" /&gt;
            &lt;/bundle&gt;
        &lt;/variant&gt;

        &lt;list name="PropertiesList" element="Property" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example above defines every <strong>key-value</strong> pair as <a href="#fields-bundle">&lt;bundle&gt; </a>
field, where first field (<strong>key</strong>) reuses external definition of <strong>Key</strong> field and
adds its default construction value as well as what value considered to be valid.
<strong>NOTE</strong>, that every <strong>key</strong> member sets <strong>failOnInvalid</strong> property to <strong>true</strong>.
The code generator is expected to generate code that attempts <strong>read</strong> operation
of every defined member field in the order of their definition. Once the <strong>read</strong>
operation is successful, the right member has been found and the <strong>read</strong> operation
needs to terminate. The <strong>in-order</strong> read is high level logic, the code generator
is allowed to introduce optimizations as long as the outcome of detecting the
right member is the same.</p>
</div>
<div class="paragraph">
<p>If there is any other <a href="#intro-properties">property</a> defined as XML child
of the <strong>&lt;variant&gt;</strong>, then all the members must be wrapped in
<strong>&lt;members&gt;</strong> XML element for separation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;variant name="Property"&gt;
            &lt;displayName value="Proper Variant Name" /&gt;
            &lt;members&gt;
                &lt;bundle name="Prop1"&gt;
                    ...
                &lt;/bundle&gt;
                ...
            &lt;/members&gt;
        &lt;/variant&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Another quite popular example of is to have heterogeneous list of
TLV (type / length / value) triplets.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;int name="Type" type="uint8" failOnInvalid="true" displayReadOnly="true" /&gt;

        &lt;variant name="Property"&gt;
            &lt;bundle name="Prop1"&gt;
                &lt;int reuse="Type" defaultValue="0" validValue="0" /&gt;
                &lt;int name="Length" type="uint16" semanticType="length" /&gt;
                &lt;int name="Value" type="uint32" /&gt;
            &lt;/bundle&gt;
            &lt;bundle name="Prop2"&gt;
                &lt;int reuse="Type" defaultValue="1" validValue="1" /&gt;
                &lt;int name="Length" type="uint16" semanticType="length" /&gt;
                &lt;string name="Value" /&gt;
            &lt;/bundle&gt;
            ...
        &lt;/variant&gt;

        &lt;list name="PropertiesList" element="Property" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please <strong>note</strong> assigning <strong>semanticType</strong> property to be <strong>length</strong> for the
<strong>Length</strong> field in every bundle. It specifies that the field contains
remaining length of all the subsequent fields in the <strong>&lt;bundle&gt;</strong> and
allows the code generator to produce correct code. The support for
<strong>length</strong> value of <strong>semanticType</strong> has been introduced in <strong>v2</strong> of this
specification.</p>
</div>
<div class="paragraph">
<p>Quite often the developers wonder why there is a need to use <strong>remaining length</strong>
information for the fields, length of which is constant and known and compile time.
It allows introducing more fields in future versions of the protocol while
preserving forward / backward compatibility of the protocol. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big" version="2"&gt;
    &lt;fields&gt;
        &lt;int name="Type" type="uint8" failOnInvalid="true" displayReadOnly="true" /&gt;

        &lt;variant name="Property"&gt;
            &lt;bundle name="Prop1"&gt;
                &lt;int reuse="Type" defaultValue="0" validValue="0" /&gt;
                &lt;int name="Length" type="uint16" semanticType="length" /&gt;
                &lt;int name="Value" type="uint32" /&gt;
                &lt;int name="Value2" type="int16" sinceVersion="2"/&gt;
            &lt;/bundle&gt;
            ...
        &lt;/variant&gt;

        &lt;list name="PropertiesList" element="Property" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The old version of the protocol code, that is not aware of extra field being
added in the new version, will be able to skip over unknown data and read
the next property from the correct location.</p>
</div>
<div class="paragraph">
<p>It also allows safe reception and handling of unexpected (or unknown) properties that could be
introduced in the future versions of the protocol while still operating correctly.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;int name="Type" type="uint8" failOnInvalid="true" displayReadOnly="true" /&gt;

        &lt;variant name="Property"&gt;
            ...
            &lt;bundle name="UnknownProp"&gt;
                &lt;int reuse="Type" failOnInvalid="false" /&gt;
                &lt;int name="Length" type="uint16" semanticType="length" /&gt;
                &lt;data name="Value" /&gt;
            &lt;/bundle&gt;
        &lt;/variant&gt;

        &lt;list name="PropertiesList" element="Property" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that in the example above the <strong>UnknownProp</strong> is defined to
be the last member field of the <strong>&lt;variant&gt;</strong> field and has
non-failing read of its <strong>Type</strong> (<strong>failOnInvalid</strong> property has been set
to <strong>false</strong>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_default_member">Default Member</h4>
<div class="paragraph">
<p>When <strong>&lt;variant&gt;</strong> field is constructed, it should not hold any
field and when serialized, it mustn&#8217;t produce any output.
However, it is possible to specify default member to which
the <strong>&lt;variant&gt;</strong> field should be initialized when constructed.
To specify such member use <strong>defaultMember</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;variant name="Property" defaultMember="Prop1"&gt;
            &lt;bundle name="Prop1"&gt;
                ...
            &lt;/bundle&gt;
            ...
        &lt;/variant&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>defaultMember</strong> property may also specify index instead of the member
name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;variant name="Property" defaultMember="0"&gt;
            &lt;bundle name="Prop1"&gt;
                ...
            &lt;/bundle&gt;
            ...
        &lt;/variant&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Negative number as value of <strong>defaultMember</strong> property will force the
<strong>&lt;variant&gt;</strong> field not to have a default member.</p>
</div>
</div>
<div class="sect3">
<h4 id="_extra_display_property_2">Extra Display Property</h4>
<div class="paragraph">
<p>By default GUI protocol analysis tools should display the index of the
held member when displaying <strong>&lt;variant&gt;</strong> field in "read only" mode.
However, for some occasions this information may be irrelevant. To hide
display of index use <strong>displayIdxReadOnlyHidden</strong>
<a href="#intro-properties">property</a> with <a href="#intro-boolean">boolean</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;fields&gt;
        &lt;variant name="Property" displayIdxReadOnlyHidden="true"&gt;
            &lt;bundle name="Prop1"&gt;
                ...
            &lt;/bundle&gt;
            ...
        &lt;/variant&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-variant">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fields-references">Referencing Values of Other Fields</h3>
<div class="paragraph">
<p>Quite often there is a need to reuse (or reference) some other values already
defined and used for some other fields. The <strong>v1</strong> of this specification
allowed referencing the external <a href="#fields-enum">&lt;enum&gt; </a> <strong>validValue</strong>-s only, while
<strong>v2</strong> of this specification extends such functionality to other fields as well.
In general, when the other field is referenced its <strong>defaultValue</strong> is taken,
unless inner value is referenced, such as <strong>validValue</strong> of the <a href="#fields-enum">&lt;enum&gt; </a>
field or <strong>special</strong> value of the <a href="#fields-int">&lt;int&gt; </a> field.</p>
</div>
<div class="sect3">
<h4 id="_referencing_values_defined_in_enum_s">Referencing Values Defined in <strong>&lt;enum&gt;</strong>-s</h4>
<div class="paragraph">
<p>Any specified <strong>&lt;validValue&gt;</strong> can be referenced by other numeric fields
(not only <strong>&lt;enum&gt;</strong>) when specifying <a href="#intro-numeric">numeric</a>
value of some property. To reference it, the <strong>&lt;enum&gt;</strong> name
must be specified followed by a <strong>.</strong> (dot) and name of the chosen <strong>&lt;validValue&gt;</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint8" defaultValue="Val2"&gt;
            &lt;validValue name="Val1" val="0" /&gt;
            &lt;validValue name="Val2" val="5" /&gt;
            &lt;validValue name="Val3" val="10"/&gt;
        &lt;/enum&gt;

        &lt;int name="SomeIntField" type="uint32" defaultValue="SomeEnumField.Val2" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above the <strong>defaultValue</strong> of the <strong>SomeIntField</strong> will be <strong>5</strong>.</p>
</div>
<div class="paragraph">
<p>When <a href="#fields-enum">&lt;enum&gt; </a> is referenced by its name, its <strong>defaultValue</strong>
is taken.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint8" defaultValue="Val2"&gt;
            &lt;validValue name="Val1" val="0" /&gt;
            &lt;validValue name="Val2" val="5" /&gt;
            &lt;validValue name="Val3" val="10"/&gt;
        &lt;/enum&gt;

        &lt;int name="SomeIntField" type="uint32" defaultValue="SomeEnumField.Val3"&gt;
            &lt;special name="S1" val="SomeEnumField" /&gt;
            &lt;special name="S2" val="SomeEnumField.Val1" /&gt;
        &lt;/int&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above the <strong>defaultValue</strong> of the <strong>SomeIntField</strong> is <strong>10</strong>, the
value of the <strong>S1</strong> special is <strong>5</strong> (equals to <strong>defaultValue</strong> of <strong>SomeEnumField</strong>),
and value of the <strong>S2</strong> special is <strong>0</strong>.</p>
</div>
<div class="paragraph">
<p>Floating point fields can also reference values defined in
<a href="#fields-enum">&lt;enum&gt; </a> fields.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;enum name="SomeEnumField" type="uint8" defaultValue="Val2"&gt;
            &lt;validValue name="Val1" val="0" /&gt;
            &lt;validValue name="Val2" val="5" /&gt;
            &lt;validValue name="Val3" val="10"/&gt;
        &lt;/enum&gt;

        &lt;float name="SomeFloatField" type="double" defaultValue="SomeEnumField.Val1"&gt;
            &lt;special name="S1" val="SomeEnumField.Val2" /&gt;
        &lt;/float&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_referencing_values_defined_in_int_s">Referencing Values Defined in <strong>&lt;int&gt;</strong>-s</h4>
<div class="paragraph">
<p>Similar to <a href="#fields-enum">&lt;enum&gt; </a> the inner value of <a href="#fields-int">&lt;int&gt; </a>
field can be referenced by other numeric fields.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeIntField" type="uint32" defaultValue="10"&gt;
            &lt;special name="S1" val="0" /&gt;
            &lt;special name="S2" val="5" /&gt;
        &lt;/int&gt;

        &lt;enum name="SomeEnumField" type="uint8" defaultValue="SomeIntField.S1"&gt;
            &lt;validValue name="Val1" val="SomeIntField.S2" /&gt;
            &lt;validValue name="Val2" val="SomeIntField" /&gt;
        &lt;/enum&gt;

        &lt;float name="SomeFloatField" type="double" defaultValue="SomeIntField.S2"&gt;
            &lt;special name="S1" val="SomeIntField" /&gt;
        &lt;/float&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above <strong>defaultValue</strong> of <strong>SomeEnumField</strong> is <strong>0</strong>,
<strong>validValue</strong> <strong>Val1</strong> equals to <strong>5</strong>, and <strong>validValue</strong> <strong>Val2</strong> equals to
<strong>10</strong>.</p>
</div>
<div class="paragraph">
<p>Also the <strong>defaultValue</strong> of <strong>SomeFloatField</strong> is <strong>5.0</strong>, while
value of its <strong>S1</strong> special is <strong>10.0</strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_referencing_values_defined_in_set_s">Referencing Values Defined in <strong>&lt;set&gt;</strong>-s</h4>
<div class="paragraph">
<p>The <strong>defaultValue</strong> property of any element of the <a href="#fields-set">&lt;set&gt; </a> field
can also be referenced.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;set name="SomeSetField" length="1" defaultValue="false"&gt;
            &lt;bit name="B0" idx="0" defaultValue="true" /&gt;
            &lt;bin name="B1" idx="1" /&gt;
        &lt;/set&gt;

        &lt;set name="SomeOtherSetField" length="1" defaultValue="SomeSetField" reservedValue="SomeSetField.B0"&gt;
            &lt;bit name="B5" idx="5" defaultValue="SomeSetField.B1" /&gt;
            ...
        &lt;/set&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above the <strong>defaultValue</strong> of <strong>SomeOtherSetField</strong> is <strong>false</strong>
(same as <strong>defaultValue</strong> of <strong>SomeSetField</strong>), the <strong>reservedValue</strong> of
<strong>SetOtherField</strong> is <strong>true</strong> (same as <strong>defaultValue</strong> of <strong>SomeSetField.B0</strong>), and
the <strong>defaultValue</strong> of <strong>SomeOtherSetField.B5" is <strong>false</strong> (same as
<strong>defaultValue</strong> of *SomeSetField.B1</strong>).</p>
</div>
<div class="paragraph">
<p>Other numeric fields, such as <a href="#fields-enum">&lt;enum&gt; </a>, <a href="#fields-int">&lt;int&gt; </a>,
and <a href="#fields-float">&lt;float&gt; </a> can also reference boolean values of <a href="#fields-set">&lt;set&gt; </a>,
which will result in numeric values been either <strong>0</strong> or <strong>1</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;set name="SomeSetField" length="1" defaultValue="false"&gt;
            &lt;bit name="B0" idx="0" defaultValue="true" /&gt;
            &lt;bin name="B1" idx="1" /&gt;
        &lt;/set&gt;

        &lt;float name="SomeFloatField" type="float" defaultValue="SomeSetField.B0" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The definition above will result in <strong>defaultValue</strong> of <strong>SomeFloatField</strong> to be
<strong>1.0</strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_referencing_values_defined_in_float_s">Referencing Values Defined in <strong>&lt;float&gt;</strong>-s</h4>
<div class="paragraph">
<p>Similar to <a href="#fields-int">&lt;int&gt; </a> it is possible to reference <a href="#fields-float">&lt;float&gt; </a> values
used in <strong>defaultValue</strong> property and/or as <strong>&lt;special&gt;</strong> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;float name="SomeFloatField" type="double" defaultValue="nan"&gt;
            &lt;special name="S1" val="inf" /&gt;
        &lt;/float&gt;

        &lt;float name="SomeOtherFloatField" type="double" defaultValue="SomeFloatField.S1"&gt;
            &lt;special name="S1" val="SomeFloatField" /&gt;
        &lt;/float&gt;

    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above <strong>defaultValue</strong> of <strong>SomeOtherFloatField</strong> is <strong>inf</strong>,
while value of <strong>SomeOtherFloatField.S1</strong> special is <strong>nan</strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_referencing_values_defined_in_string_s">Referencing Values Defined in <strong>&lt;string&gt;</strong>-s</h4>
<div class="paragraph">
<p>When referencing values of <a href="#fields-string">&lt;string&gt; </a> fields there is a need
to differentiate between a reference to external field and a genuine string
value. To do so the <code>^</code> prefix was introduced. If a property value, that
requires a string, starts with <code>^</code> it means external reference and error
must be reported if referenced field is not found.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="SomeString" defaultValue="hello" /&gt;
        &lt;string name="SomeOtherString" defaultValue="^SomeString" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above the <strong>defaultValue</strong> of <strong>SomeOtherString</strong> field is
<strong>hello</strong>.</p>
</div>
<div class="paragraph">
<p>If there is a need to define a genuine string value that starts with <code>^</code> character,
then there is a need to escape it with <code>\</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="SomeOtherString" defaultValue="\^SomeString" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above the <strong>defaultValue</strong> of <strong>SomeOtherString</strong> field is
<strong>^SomeString</strong>.</p>
</div>
<div class="paragraph">
<p>The question may arise what if a genuine value string needs to start with <code>\^</code>.
In this case just add additional <code>\</code> at the front.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="SomeOtherString" defaultValue="\\^SomeString" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above the <strong>defaultValue</strong> of <strong>SomeOtherString</strong> field is
<strong>\^SomeString</strong>.</p>
</div>
<div class="paragraph">
<p>The bottom line: any <strong>prefix</strong> sequence of <code>\</code> followed by the <code>^</code> will
result in drop of one <code>\</code> in the final string value. In case there is any
other character used in the middle, the string value remains as is.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="String1" defaultValue="\\SomeString" /&gt;
        &lt;string name="String2" defaultValue="\.\^SomeString" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above the <strong>defaultValue</strong> of <strong>String1</strong> field is
<strong>\\SomeString</strong> because there is no <code>^</code> character after <code>\</code> and
the <strong>defaultValue</strong> of <strong>String2</strong> field is <strong>\.\^SomeString</strong> because
the sequence of <code>\</code> is interrupted by <code>.</code>.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that string referenced can be useful when <a href="#fields-enum">&lt;enum&gt; </a>
field is used to specify numeric message IDs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="Msg1Name" defaultValue="Message 1" /&gt;
        &lt;string name="Msg2Name" defaultValue="Message 2" /&gt;

        &lt;enum name="MsgId" type="uint8" semanticType="messageId"&gt;
            &lt;validValue name="Msg1" val="1" displayName="^Msg1Name" /&gt;
            &lt;validValue name="Msg2" val="2" displayName="^Msg2Name" /&gt;
        &lt;/enum&gt;

        &lt;message name="Msg1" id="MsgId.Msg1" displayName="^Msg1Name"&gt;
            ...
        &lt;/message&gt;

        &lt;message name="Msg2" id="MsgId.Msg2" displayName="^Msg2Name"&gt;
            ...
        &lt;/message&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above the <strong>displayName</strong> property of a message is
expected to be the same as <strong>displayName</strong> property of appropriate
<strong>&lt;validValue&gt;</strong> of <strong>MsgId</strong> enum. Referencing common value insures
that the change to the name (if happens) propagates to appropriate fields.</p>
</div>
</div>
<div class="sect3">
<h4 id="_referencing_values_defined_in_data_s">Referencing Values Defined in <strong>&lt;data&gt;</strong>-s</h4>
<div class="paragraph">
<p>When referencing values of <a href="#fields-data">&lt;data&gt; </a> fields there is also a need
to differentiate between a reference to external field and a genuine data
value. For example the string <code>abcd</code> can be interpreted as valid field name
as well as valid hexadecimal bytes. As the result there is also a need
to use <code>^</code> prefix (just like with <strong>&lt;string&gt;</strong> values) to indicate
external reference.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;data name="SomeData" defaultValue="12 34 56" /&gt;
        &lt;string name="SomeOtherData" defaultValue="^SomeData" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>defaultValue</strong> of <strong>SomeOtherData</strong> will be <code>0x12 0x34 0x56</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_referencing_values_via_ref_s">Referencing Values via <strong>&lt;ref&gt;</strong>-s</h4>
<div class="paragraph">
<p>The <a href="#fields-ref">&lt;ref</a>&gt; field is there to create an alias to other field. The
<strong>CommsDSL</strong> allows retrieving value for the <a href="#fields-ref">&lt;ref</a>&gt; field as
if it was retrieved from the referenced field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeInt" type="uint8" defaultValue="1"&gt;
            &lt;special name="S1" val="5" /&gt;
        &lt;/int&gt;
        &lt;ref name="SomeRef" field="SomeInt" /&gt;
        &lt;int name="SomeOtherInt" type="uint18" defaultValue="SomeRef.S1" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above the <strong>defaultValue</strong> of <strong>SomeOtherInt</strong> is <strong>5</strong>, same as
the value of <strong>SomeInt.S1</strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_referencing_values_in_namespaces">Referencing Values in Namespaces</h4>
<div class="paragraph">
<p>In case referenced field resides in a namespace, add it to the reference string
as well. The same <a href="#intro-references">referencing</a> rules apply.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;ns name="ns1"
        &lt;fields&gt;
            &lt;enum name="SomeEnumField" type="uint8"&gt;
                &lt;validValue name="Val1" val="0" /&gt;
                &lt;validValue name="Val2" val="5" /&gt;
                &lt;validValue name="Val3" val="10"/&gt;
            &lt;/enum&gt;

            &lt;int name="SomeIntField" type="uint32" defaultValue="ns1.SomeEnumField.Val2" /&gt;
        &lt;/fields&gt;
    &lt;/ns&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_referencing_values_in_bitfield_s_or_bundle_s">Referencing Values in &lt;bitfield&gt;-s or &lt;bundle&gt;-s</h4>
<div class="paragraph">
<p>The <strong>CommsDSL</strong> also allows referencing values from member fields of a
<a href="#fields-bitfield">&lt;bitfield&gt; </a> or a <a href="#fields-bundle">&lt;bundle&gt; </a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;ns name="ns1"
        &lt;fields&gt;
            &lt;bundle name="SomeBundle"&gt;
                &lt;enum name="SomeEnumMember" type="uint8"&gt;
                    &lt;validValue name="Val1" val="0" /&gt;
                    &lt;validValue name="Val2" val="5" /&gt;
                    &lt;validValue name="Val3" val="10"/&gt;
                &lt;/enum&gt;
                &lt;int name="SomeIntMember" type="uint8" /&gt;
            &lt;/bundle&gt;

            &lt;int name="SomeIntField" type="uint32" defaultValue="ns1.SomeBundle.SomeEnumField.Val2" /&gt;
        &lt;/fields&gt;
    &lt;/ns&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above the <strong>defaultValue</strong> of <strong>SomeIntField</strong> is <strong>5</strong>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_referencing_values_in_optional_s">Referencing Values in &lt;optional&gt;-s;</h4>
<div class="paragraph">
<p>There are two forms of <a href="#fields-optional">&lt;optional&gt; </a> fields. One references
external field, another defines it as a member.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeInt" type="uint8" defaultValue="1"&gt;
            &lt;special name="S1" val="5" /&gt;
        &lt;/int&gt;
        &lt;optional name="Opt1" field="SomeInt" /&gt;
        &lt;optional name="Opt2"&gt;
            &lt;int name="SomeOptInt" type="uint8" defaultValue="1"&gt;
                &lt;special name="S1" val="5" /&gt;
            &lt;/int&gt;
        &lt;/optional&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case the <a href="#fields-optional">&lt;optional&gt; </a> field references external field it
can <strong>NOT</strong> be used for value reference. The one that defines optional field
internally as a child element, can.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;optional name="Opt2"&gt;
            &lt;int name="SomeOptInt" type="uint8" defaultValue="1"&gt;
                &lt;special name="S1" val="5" /&gt;
            &lt;/int&gt;
        &lt;/optional&gt;
        &lt;int name="SomeOtherInt" type="int16" defaultValue="Opt2.SomeOptInt.S1" /&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> that there is a need to reference internal member field by name.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="messages-messages">Messages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Every message is defined using <strong>&lt;message&gt;</strong> XML element.</p>
</div>
<div class="sect2">
<h3 id="_message_name">Message Name</h3>
<div class="paragraph">
<p>Every message definition must specify its <a href="#intro-names">name</a> using
<strong>name</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" ...&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="messages-numeric-id">Numeric ID</h3>
<div class="paragraph">
<p>Every message definition must specify its <a href="#intro-numeric">numeric</a> ID using
<strong>id</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="0x1"&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is highly recommended to define "message ID" numeric values as external
<a href="#fields-enum">&lt;enum&gt; </a> field and reuse its values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;enum name="MsgId" type="uint8" semanticType="messageId"&gt;
            &lt;validValue name="Msg1" val="0x1" /&gt;
            &lt;validValue name="Msg2" val="0x2" /&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;

    &lt;message name="Msg1" id="MsgId.Msg1"&gt;
        ...
    &lt;/message&gt;

    &lt;message name="Msg2" id="MsgId.Msg2"&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_3">Description</h3>
<div class="paragraph">
<p>It is possible to provide a description of the message about what it is and
how it is expected to be used. This description is only for documentation
purposes and may find it&#8217;s way into the generated code as a comment for the
generated class. The <a href="#intro-properties">property</a> is <strong>description</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1"&gt;
        &lt;description&gt;
            Some long
            multiline
            description
        &lt;/description&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_display_name">Display Name</h3>
<div class="paragraph">
<p>When various analysis tools display message details, the preference is to
display proper space separated name (which is defined using <strong>displayName</strong>
<a href="#intro-properties">property</a>) rather than using a <a href="#intro-names">name</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1" displayName="Message 1"&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case <strong>displayName</strong> is empty, the analysis tools are expected to use value
of <strong>name</strong> <a href="#intro-properties">property</a> instead.</p>
</div>
<div class="paragraph">
<p>It is recommended to share the <strong>displayName</strong> with relevant <strong>&lt;validValue&gt;</strong>
of <strong>&lt;enum&gt;</strong> that lists numeric IDs of the messages:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;string name="Msg1Name" defaultValue="Message 1" /&gt;
        &lt;string name="Msg2Name" defaultValue="Message 2" /&gt;

        &lt;enum name="MsgId" type="uint8" semanticType="messageId"&gt;
            &lt;validValue name="Msg1" val="1" displayName="^Msg1Name" /&gt;
            &lt;validValue name="Msg2" val="2" displayName="^Msg2Name" /&gt;
        &lt;/enum&gt;

        &lt;message name="Msg1" id="MsgId.Msg1" displayName="^Msg1Name"&gt;
            ...
        &lt;/message&gt;

        &lt;message name="Msg2" id="MsgId.Msg2" displayName="^Msg2Name"&gt;
            ...
        &lt;/message&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_fields">Fields</h3>
<div class="paragraph">
<p>Every <strong>&lt;message&gt;</strong> has zero or more <a href="#fields-fields">fields</a> that
can be specified as child XML elements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;int name="SomeCommonField" type="uint16" defaultValue="10" /&gt;
    &lt;/fields&gt;

    &lt;message name="Msg1" id="1"&gt;
        &lt;int name="F1" type="uint8" /&gt;
        &lt;enum name="F2" type="uint8"&gt;
            ...
        &lt;/enum&gt;
        &lt;ref field="SomeCommonField" name="F3" /&gt;
        &lt;string name="F4" length="8" /&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If there is any other <a href="#intro-properties">property</a> defined as XML child
of the <strong>&lt;message&gt;</strong>, then all the fields must be wrapped in
<strong>&lt;fields&gt;</strong> XML element for separation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;message name="Msg1" id="1"&gt;
        &lt;displayName value="Message 1" /&gt;
        &lt;fields&gt;
            &lt;int name="F1" type="uint8" /&gt;
        &lt;/fields&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sometimes different messages have the same fields. In order to avoid duplication,
use <strong>copyFieldsFrom</strong> property to specify original message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1"&gt;
        &lt;int name="F1" type="uint32" /&gt;
    &lt;/message&gt;

    &lt;message name="Msg2" id="2" copyFieldsFrom="Msg1" /&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above <strong>Msg2</strong> will have the same fields as <strong>Msg1</strong>.</p>
</div>
<div class="paragraph">
<p>After copying fields from other message, all other defined fields will be
appended to copied ones.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1"&gt;
        &lt;int name="F1" type="uint32" /&gt;
    &lt;/message&gt;

    &lt;message name="Msg2" id="2" copyFieldsFrom="Msg1"&gt;
        &lt;float name="F2" type="float" /&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above <strong>Msg2</strong> will have 2 fields: <strong>F1</strong> and <strong>F2</strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ordering">Ordering</h3>
<div class="paragraph">
<p>There are protocols that may define various forms of the same message,
which share the same numeric ID, but are differentiated by a serialization
length or value of some particular
field inside the message. It can be convenient to define such variants as separate
classes. In case there are multiple <strong>&lt;message&gt;</strong>-es with the same
<a href="#messages-numeric-id">numeric ID</a>, it is required to specify order
in which they are expected to be processed (read). The ordering is specified
using <strong>order</strong> <a href="#intro-properties">property</a> with unsigned <a href="#intro-numeric">numeric</a>
value. The message object with lower <strong>order</strong> value gets created and its
<strong>read</strong> operation attempted <strong>before</strong> message object with higher value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" nonUniqueMsgIdAllowed="true"&gt;
    &lt;message name="Msg1Form1" id="1" order="0" &gt;
        ...
    &lt;/message&gt;

    &lt;message name="Msg1Form2" id="1" order="1"&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> that there is a need to set <strong>nonUniqueMsgIdAllowed</strong> property of
the <a href="#schema-schema">schema</a> to <strong>true</strong> to allow multiple message objects
with the same numeric ID.</p>
</div>
<div class="paragraph">
<p>All the <strong>order</strong> values for the same numeric ID must be unique, but not necessarily
sequential.</p>
</div>
</div>
<div class="sect2">
<h3 id="_versioning_3">Versioning</h3>
<div class="paragraph">
<p><strong>CommsDSL</strong> allows providing an information in what version the message was added
to the protocol, as well as in what version it was deprecated, and whether
it was removed (not supported any more) after deprecation.</p>
</div>
<div class="paragraph">
<p>To specify the version in which message was introduced, use <strong>sinceVersion</strong>
property. To specify the version in which the message was deprecated, use
<strong>deprecated</strong> property. To specify whether the message was removed after being deprecated
use <strong>removed</strong> property in addition to <strong>deprecated</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big" version="5" &gt;
    &lt;message name="SomeMessage" id="100" sinceVersion="2" &gt;
        ...
    &lt;/message&gt;

    &lt;message name="SomeOtherMessage" id="101" sinceVersion="3" deprecated="4" removed="true"&gt;
        ...
    &lt;/message&gt;

&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above <strong>SomeMessage</strong> was introduced in version <strong>2</strong>, and
<strong>SomeOtherMessage</strong> was introduced in version <strong>3</strong>, but deprecated and removed in
version <strong>4</strong>.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that all the specified versions mustn&#8217;t be greater that the version
of the <a href="#schema-schema">schema</a>. Also value of <strong>sinceVersion</strong> must be
<strong>less</strong> than value of <strong>deprecated</strong>.</p>
</div>
<div class="paragraph">
<p>The code generator is expected to be able to generate support for specific versions
and include / exclude support for some messages based on their version information.</p>
</div>
</div>
<div class="sect2">
<h3 id="_platforms">Platforms</h3>
<div class="paragraph">
<p>Some protocols may be used in multiple independent platforms, while having
some platform-specific messages. The <strong>CommsDSL</strong> allows listing of the
supported platforms using <a href="#intro-platforms">&lt;platform&gt; </a> XML nodes.
Every message may list platforms in which it must be supported using <strong>platforms</strong>
<a href="#intro-properties">property</a>. In case the property&#8217;s value is empty (default),
the message is supported in <strong>all</strong> the available platforms (if any defined).
The <strong>platforms</strong> property value is coma-separated list of platform names with
preceding <strong>+</strong> if the listed platforms are the one supported, or <strong>-</strong> if
the listed platforms need to be <strong>excluded</strong> from all available ones.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;platform name="Plat1" /&gt;
    &lt;platform name="Plat2" /&gt;
    &lt;platform name="Plat3" /&gt;
    &lt;platform name="Plat4" /&gt;

    &lt;message name="Msg1" id="1" platforms="+Plat1,Plat4"&gt;
        ...
    &lt;/message&gt;

    &lt;message name="Msg2" id="2" platforms="-Plat1, Plat2"&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above <strong>Msg1</strong> is supported only for platforms <strong>Plat1</strong> and <strong>Plat4</strong>,
while <strong>Msg2</strong> is <strong>NOT</strong> supported in <strong>Plat1</strong>, and <strong>Plat2</strong> (i.e. supported in
<strong>Plat3</strong> and <strong>Plat4</strong>).</p>
</div>
<div class="paragraph">
<p>The main consideration for what format to choose should be whether the platforms
support for the message should or should <strong>NOT</strong> be added automatically when
new <strong>&lt;platform&gt;</strong> is defined.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sender">Sender</h3>
<div class="paragraph">
<p>In most protocols there are uni-directional messages. The <strong>CommsDSL</strong>
allows definition of entity that sends a particular message using <strong>sender</strong>
property. Available values are <strong>both</strong> (default), <strong>server</strong>, and <strong>client</strong>.
The code generator may use provided information and generate some auxiliary code
and/or data structures to be used for <strong>client</strong> and/or <strong>server</strong> implementation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1" sender="client"&gt;
        ...
    &lt;/message&gt;

    &lt;message name="Msg2" id="2" sender="server"&gt;
        ...
    &lt;/message&gt;

    &lt;message name="Msg3" id="2"&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above <strong>Msg1</strong> and <strong>Msg2</strong> are uni-directional messages, while
<strong>Msg3</strong> is bi-directional.</p>
</div>
</div>
<div class="sect2">
<h3 id="_customization">Customization</h3>
<div class="paragraph">
<p>The code generator is expected to allow some level of compile time customization of the
generated code, such as enable/disable generation of particular virtual functions.
The code generator is also expected to provide command line
options to choose required level of customization. Sometimes it may be required
to allow generated message class to be customizable regardless of the customization
level requested from the code generator. <strong>CommsDSL</strong> provides <strong>customizable</strong>
property with <a href="#intro-boolean">boolean</a> value to force any message to being
customizable at compile time.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1" customizable="true"&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_alias_names_to_member_fields_2">Alias Names to Member Fields</h3>
<div class="paragraph">
<p>Sometimes an existing member field may be renamed and/or moved. It is possible to
create alias names for the fields to keep the old client code being able to compile
and work. Please refer to <a href="#aliases-aliases">Aliases</a> chapter for more details.</p>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-message">properties table</a> for future references.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="interfaces-interfaces">Interfaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are protocols that attach some extra information, such as version and/or
extra flags, to the message transport <a href="#frames-frames">framing</a>. This extra information
usually influences how message fields are deserialized and/or how message object
is handled. It means that these received extra values need to be attached to
<strong>every</strong> message object. The <strong>CommsDSL</strong> allows specification of such extra
information as <strong>&lt;interface&gt;</strong> XML element with extra <a href="#fields-fields">fields</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;interface name="CommonInterface"&gt;
        &lt;int name="Version" type="uint8" semanticType="version" /&gt;
        &lt;set name="Flags" length="1"&gt;
            ...
        &lt;/set&gt;
    &lt;/interface&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The code generator may use provided information to generate common interface
class(es) for all the messages. Such class will serve as base class of every
message object and will contain required extra information.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> that specified fields, are <strong>NOT</strong> part of every message&#8217;s payload.
These fields are there to hold extra values delivered as part of message
<a href="#frames-frames">framing</a>.</p>
</div>
<div class="sect2">
<h3 id="_interface_name">Interface Name</h3>
<div class="paragraph">
<p>Every interface definition must specify its <a href="#intro-names">name</a> using
<strong>name</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;interface name="CommonInterface"&gt;
        ...
    &lt;/interface&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_4">Description</h3>
<div class="paragraph">
<p>It is possible to provide a description of the interface about what it is and
how it is expected to be used. This description is only for documentation
purposes and may find it&#8217;s way into the generated code as a comment for the
generated class. The <a href="#intro-properties">property</a> is <strong>description</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;interface name="CommonInterface"&gt;
        &lt;description&gt;
            Some long
            multiline
            description
        &lt;/description&gt;
        ...
    &lt;/interface&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_more_about_fields">More About Fields</h3>
<div class="paragraph">
<p>Similar to <strong>&lt;message&gt;</strong> every <strong>&lt;interface&gt;</strong> has zero or more <a href="#fields-fields">fields</a> that
can be specified as child XML elements. If there is any other
<a href="#intro-properties">property</a> defined as XML child
of the <strong>&lt;interface&gt;</strong>, then all the fields must be wrapped in
<strong>&lt;fields&gt;</strong> XML element for separation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" endian="big"&gt;
    &lt;interface&gt;
        &lt;name value="CommonInterface" /&gt;
        &lt;fields&gt;
            &lt;int name="Version" type="uint8" semanticType="version" /&gt;
        &lt;/fields&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sometimes different interfaces have common set of fields. In order to avoid duplication,
use <strong>copyFieldsFrom</strong> property to specify original interface and then add
extra fields when needed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;interface name="Interface1"&gt;
        &lt;int name="Version" type="uint8" semanticType="version" /&gt;
    &lt;/interface&gt;

    &lt;interface name="Interface2" copyFieldsFrom="Interface1"&gt;
        &lt;set name="Flags" length="1"&gt;
            ...
        &lt;/set&gt;
    &lt;/interface&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above <strong>Interface2</strong> will have <strong>2</strong> fields: "Version" and "Flags".</p>
</div>
<div class="paragraph">
<p>If the protocol doesn&#8217;t have any extra values delivered in message framing, then
the whole definition of the  <strong>&lt;interface&gt;</strong> XML element can be omitted.
If no <strong>&lt;interface&gt;</strong> node has been added to the protocol schema, then
the code generator must treat schema as if the schema has implicit definition
of the single <strong>&lt;interface&gt;</strong> with no fields. It is up to the code generator
to choose name for the common interface class it creates.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong> usage of <strong>semanticType="version"</strong> for the field holding protocol
version in the examples above. It is required to be used for proper
<a href="#versioning-versioning">protocol versioning</a>. The value of the field
having "version" value as <strong>semanticType</strong> property, will be considered
for fields that, were introduced and/or deprecated at some stage, i.e. use
<strong>sinceVersion</strong> and/or <strong>derecated</strong> + <strong>removed</strong> properties.</p>
</div>
</div>
<div class="sect2">
<h3 id="_alias_names_to_fields">Alias Names to Fields</h3>
<div class="paragraph">
<p>Sometimes a contained field may be renamed and/or moved. It is possible to
create alias names for the fields to keep the old client code being able to compile
and work. Please refer to <a href="#aliases-aliases">Aliases</a> chapter for more details.</p>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-interface">properties table</a> for future references.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aliases-aliases">Aliases</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is not uncommon for a particular field to change its meaning and as the
result to change its name over time when the protocol evolves. Simple change
of the name in the schema may result in various compilation errors of old
client code when new version of the protocol definition library is released.
To help with such case the <strong>CommsDSL</strong> introduces an ability to create
<strong>alias</strong> names for the existing fields.</p>
</div>
<div class="paragraph">
<p>For example let&#8217;s assume there is some message definition like the one below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="0x1"&gt;
        &lt;int name="SomeField" type="uint32" /&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case there is a need to rename the <strong>SomeField</strong> name to be <strong>SomeOtherField</strong>,
then the message definition can add an <strong>&lt;alias&gt;</strong> with the old name to
the renamed field in order to keep the old client code compiling.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="0x1"&gt;
        &lt;fields&gt;
            &lt;int name="SomeOtherField" type="uint32" /&gt;
            ...
        &lt;/fields&gt;
        &lt;alias name="SomeField" field="$SomeOtherField" /&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In such case the code generator must allow access of the renamed field by
both old and new names.</p>
</div>
<div class="paragraph">
<p>Note that the message fields must be bundled in <strong>&lt;fields&gt;</strong> XML element
in order to allow usage of non-field definition <strong>&lt;alias&gt;</strong> XML child of
the <strong>&lt;message&gt;</strong> node.</p>
</div>
<div class="paragraph">
<p>Also note that value of the <strong>field</strong> property of the <strong>&lt;alias&gt;</strong> element
must start with <code>$</code> character to indicate that the referenced field is a sibling
one, similar to <a href="#fields-optional">&lt;optional&gt; </a> field conditions.</p>
</div>
<div class="paragraph">
<p>Quite often, in order to keep protocol backward compatible, developers convert
existing numeric field into a <a href="#fields-bitfield">&lt;bitfield&gt; </a> when
need arises to add some extra field to the message. For example, let&#8217;s assume
there was an enum field with limited number of valid values:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="0x1"&gt;
        &lt;enum name="SomeEnum" type="uint8"&gt;
            &lt;validValue name="V1" val="0" /&gt;
            &lt;validValue name="V2" val="1" /&gt;
            &lt;validValue name="V3" val="2" /&gt;
        &lt;/enum&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When need arises to introduce new value the developer may decide to save I/O
traffic reuse the same byte occupied by the <code>SomeEnum</code> field, like below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="0x1"&gt;
        &lt;bitfield name="F1"
            &lt;enum name="SomeEnum" type="uint8" bitLength="2"&gt;
                &lt;validValue name="V1" val="0" /&gt;
                &lt;validValue name="V2" val="1" /&gt;
                &lt;validValue name="V3" val="2" /&gt;
            &lt;/enum&gt;
            &lt;int name="SomeInt" type="uint8" bitLength="6"
        &lt;/bitfield&gt;
        ...
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to keep old client code compiling it is possible to introduce
alias to the <code>SomeEnum</code> member of the <a href="#fields-bitfield">&lt;bitfield&gt; </a>
like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="0x1"&gt;
        &lt;fields&gt;
            &lt;bitfield name="F1"
                &lt;enum name="SomeEnum" type="uint8" bitLength="2"&gt;
                    ...
                &lt;/enum&gt;
                &lt;int name="SomeInt" type="uint8" bitLength="6"
            &lt;/bitfield&gt;
            ...
        &lt;/fields&gt;
        &lt;alias name="SomeEnum" field="$F1.SomeEnum" /&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>There can be any number of different <strong>&lt;alias&gt;</strong> nodes. The elements
that are allowed to have <strong>&lt;alias&gt;</strong>-es are <a href="#messages-messages">&lt;message&gt; </a>,
<a href="#interfaces-interfaces">&lt;interface&gt; </a>, and <a href="#fields-bundle">&lt;bundle&gt; </a>.</p>
</div>
<div class="sect2">
<h3 id="_description_5">Description</h3>
<div class="paragraph">
<p>The <strong>&lt;alias&gt;</strong> node may also have <strong>description</strong>
<a href="#intro-properties">property</a> which is expected to find its way into
the generated code as a comment for the relevant access functions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1"&gt;
        ...
        &lt;alias name="SomeField" field="SomeOtherField"&gt;
            &lt;description&gt;
                Some long
                multiline
                description
            &lt;/description&gt;
        &lt;/alias&gt;
    &lt;/message&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_more_on_aliases_in_message_es">More on Aliases in &lt;message&gt;-es</h3>
<div class="paragraph">
<p>When a new <a href="#messages-messages">&lt;message&gt; </a> is defined it can
copy all the fields from other already defined <a href="#messages-messages">&lt;message&gt; </a>
(using <strong>copyFieldsFrom</strong> <a href="#intro-properties">property</a>).
By default all the <a href="#aliases-aliases">&lt;alias&gt; </a> definitions are also copied.
It is possible to modify this default behavior by using <strong>copyFieldsAliases</strong>
<a href="#intro-properties">property</a> with <a href="#intro-boolean">boolean</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;message name="Msg1" id="1"&gt;
        ...
    &lt;/message&gt;

    &lt;message name="Msg2" id="2" copyFieldsAliases="false"&gt;
        ...
    &lt;/message&gt;

&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_more_on_aliases_in_interface_es">More on Aliases in &lt;interface&gt;-es</h3>
<div class="paragraph">
<p>Similar to <a href="#messages-messages">&lt;message&gt; </a>-es
<a href="#interfaces-interfaces">&lt;interface&gt; </a> can also use <strong>copyFieldsFrom</strong>
<a href="#intro-properties">property</a> to copy its field from some other
<a href="#interfaces-interfaces">&lt;interface&gt; </a> definition and have all
the aliases copied by default. The control of such default copying behavior
is also done by using <strong>copyFieldsAliases</strong>
<a href="#intro-properties">property</a> with <a href="#intro-boolean">boolean</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;interface name="Interface1"&gt;
        ...
    &lt;/interface&gt;

    &lt;interface name="Interface2" copyFieldsAliases="false"&gt;
        ...
    &lt;/interface&gt;

&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_more_on_aliases_in_bundle_es">More on Aliases in &lt;bundle&gt;-es</h3>
<div class="paragraph">
<p>When a new <a href="#fields-bundle">&lt;bundle&gt; </a> field is defined it can
reuse definition of already defined other <a href="#fields-bundle">&lt;bundle&gt; </a>
(using <strong>reuse</strong> <a href="#intro-properties">property</a>).
By default all the <a href="#aliases-aliases">&lt;alias&gt; </a> definitions are also copied.
It is possible to modify this default behavior by using <strong>reuseAliases</strong>
<a href="#intro-properties">property</a> with <a href="#intro-boolean">boolean</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;bundle name="B1"&gt;
            ...
            &lt;alias .../&gt;
            &lt;alias .../&gt;
        &lt;/bundle&gt;

        &lt;bundle name="B2" reuse="B1" reuseAliases="false"&gt;
            ...
        &lt;/bundle&gt;
    &lt;/fields&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-alias">properties table</a> for future references.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="frames-frames">Frames</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Every communication protocol must ensure that the message is successfully
delivered over the I/O link to the other side. The serialised message payload
must be wrapped in some kind of transport information prior to being sent and
unwrapped on the other side when received. The <strong>CommsDSL</strong> allows specification
of such transport wraping using <strong>&lt;frame&gt;</strong> XML node.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame ...&gt;
        ...
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_name_2">Name</h3>
<div class="paragraph">
<p>Every frame definition must specify its <a href="#intro-names">name</a> using
<strong>name</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        ...
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_description_6">Description</h3>
<div class="paragraph">
<p>It is possible to provide a description of the frame about what it is and
how it is expected to be used. This description is only for documentation
purposes and may find it&#8217;s way into the generated code as a comment for the
generated class. The <a href="#intro-properties">property</a> is <strong>description</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;description&gt;
            Some long
            multiline
            description
        &lt;/description&gt;
        ...
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_layers">Layers</h3>
<div class="paragraph">
<p>The protocol framing is defined using so called "layers", which are additional
abstraction on top of <a href="#fields-fields">fields</a>, where every such layer
has a specific purpose. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;enum name="MsgId" type="uint8" semanticType="messageId"&gt;
            &lt;validValue name="Msg1" val="0x1" /&gt;
            &lt;validValue name="Msg2" val="0x2" /&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;

    &lt;frame name="ProtocolFrame"&gt;
        &lt;id name="Id" field="MsgId" /&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example above defines simple protocol framing where 1 byte of numeric message
ID precedes the message payload.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ID (1 byte) | PAYLOAD</pre>
</div>
</div>
<div class="paragraph">
<p>Available layers are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#frames-payload">&lt;payload&gt; </a> - Message payload.</p>
</li>
<li>
<p><a href="#frames-id">&lt;id&gt; </a> - Numeric message ID.</p>
</li>
<li>
<p><a href="#frames-size">&lt;size&gt; </a> - Remaining size (length).</p>
</li>
<li>
<p><a href="#frames-sync">&lt;sync&gt; </a> - Synchronization bytes.</p>
</li>
<li>
<p><a href="#frames-checksum">&lt;checksum&gt; </a> - Checksum.</p>
</li>
<li>
<p><a href="#frames-value">&lt;value&gt; </a> - Extra value, usually to be assigned to one of the
<a href="#interfaces-interfaces">&lt;interface&gt; </a> fields.</p>
</li>
<li>
<p><a href="#frames-custom">&lt;custom&gt; </a> - Any other custom layer, not defined by <strong>CommsDSL</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If there is any other <a href="#intro-properties">property</a> defined as XML child
of the <strong>&lt;frame&gt;</strong>, then all the layers must be wrapped in
<strong>&lt;layers&gt;</strong> XML element for separation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame&gt;
        &lt;name value="ProtocolFrame" /&gt;
        &lt;layers&gt;
            &lt;id name="Id" field="MsgId" /&gt;
            &lt;payload name="Data" /&gt;
        &lt;/layers&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>All these layers have <a href="#frames-common">common</a> as well as their own specific set of
properties.</p>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-frame">properties table</a> for future references.</p>
</div>
</div>
<div class="sect2">
<h3 id="frames-common">Common Properties of Layers</h3>
<div class="paragraph">
<p>Every layer is different, and defines its own properties and/or other aspects.
However, there are common properties, that are applicable to every layer.
They are summarized below.</p>
</div>
<div class="sect3">
<h4 id="_name_3">Name</h4>
<div class="paragraph">
<p>Every layer must define it&#8217;s <a href="#intro-names">name</a>, which is expected to be
used by a code generator when defining a relevant class. The name is defined
using <strong>name</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;id name="Id" ... /&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_description_7">Description</h4>
<div class="paragraph">
<p>It is possible to provide a description of the layer about what it is and
how it is expected to be used. This description is only for documentation
purposes and may find it&#8217;s way into the generated code as a comment for the
generated class. The <a href="#intro-properties">property</a> is <strong>description</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;id name="Id" ...&gt;
            &lt;description&gt;
                Some long
                multiline
                description
            &lt;/description&gt;
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_inner_field">Inner Field</h4>
<div class="paragraph">
<p>Every layer, except for <a href="#frames-payload">&lt;payload&gt; </a>, needs to specify
its inner <a href="#fields-fields">fields</a> it wraps. The field can be specified
as XML child element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;id name="Id"&gt;
            &lt;int name="IdField" type="uint8" /&gt;
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If there is any other <a href="#intro-properties">property</a> defined as XML child
of the layer, then the inner field must be wrapped in
<strong>&lt;field&gt;</strong> XML element for separation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;id&gt;
            &lt;name value="Id" /&gt;
            &lt;field&gt;
                &lt;int name="IdField" type="uint8" /&gt;
            &lt;/field&gt;
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the inner field is defined globally in <strong>&lt;fields&gt;</strong> section, it can
be referenced using <strong>field</strong> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;fields&gt;
        &lt;enum name="MsgId" type="uint8" semanticType="messageId"&gt;
            &lt;validValue name="Msg1" val="0x1" /&gt;
            &lt;validValue name="Msg2" val="0x2" /&gt;
        &lt;/enum&gt;
    &lt;/fields&gt;

    &lt;frame name="ProtocolFrame"&gt;
        &lt;id name="Id" field="MsgId" /&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-layers">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="frames-payload">&lt;payload&gt; Layer</h3>
<div class="paragraph">
<p>The <strong>&lt;payload&gt;</strong> layer represents message payload. It is the only
<strong>must-have</strong> layer in the <a href="#frames-frames">frame</a> definition. It doesn&#8217;t have
any extra properties in addition to <a href="#frames-common">common</a> ones.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        ...
        &lt;payload name="Data"&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="frames-id">&lt;id&gt; Layer</h3>
<div class="paragraph">
<p>The <strong>&lt;id&gt;</strong> layer represents numeric message ID. The
<a href="#frames-frames">frame</a> definition must <strong>NOT</strong> contain more than one <strong>&lt;id&gt;</strong>
layer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;id name="Id"&gt;
            &lt;int name="IdField" type="uint8" /&gt;
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>&lt;id&gt;</strong> layer doesn&#8217;t have
any extra properties in addition to <a href="#frames-common">common</a> ones.</p>
</div>
</div>
<div class="sect2">
<h3 id="frames-size">&lt;size&gt; Layer</h3>
<div class="paragraph">
<p>The <strong>&lt;size&gt;</strong> layer represents <strong>remaining</strong> serialization length of the
<a href="#frames-frames">frame</a> until the end of <a href="#frames-payload">&lt;payload&gt; </a>.
The <a href="#frames-frames">frame</a> definition must <strong>NOT</strong> contain more
than one <strong>&lt;size&gt;</strong> layer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;size name="Size"&gt;
            &lt;int name="SizeField" type="uint16" /&gt;
        &lt;/size&gt;
        &lt;id name="Id"&gt;
            &lt;int name="IdField" type="uint8" /&gt;
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Some protocols may specify that the field of the <strong>&lt;size&gt;</strong> layer
contains its own length as well. The <strong>CommsDSL</strong> allows implementation of
such case by adding usage of <strong>serOffset</strong> property to the field of the
<strong>&lt;size&gt;</strong> layer.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;size name="Size"&gt;
            &lt;int name="SizeField" type="uint16" serOffset="2" displayOffset="2"/&gt;
        &lt;/size&gt;
        &lt;id name="Id"&gt;
            &lt;int name="IdField" type="uint8" /&gt;
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example below implements <code>ID (2 bytes) | SIZE (2 bytes) | PAYLOAD</code> framing
where <code>SIZE</code> value includes length of the header (<code>ID</code> + <code>SIZE</code>) in addition to
the length of <code>PAYLOAD</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;id name="Id"&gt;
            &lt;int name="IdField" type="uint16" /&gt;
        &lt;/id&gt;
        &lt;size name="Size"&gt;
            &lt;int name="SizeField" type="uint16" serOffset="4" displayOffset="4"/&gt;
        &lt;/size&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also <strong>NOTE</strong> that <strong>&lt;size&gt;</strong> layer specifies number of <strong>remaining</strong> bytes
<strong>until the end of <a href="#frames-payload">&lt;payload&gt; </a> layer</strong>. There are protocols that
append some kind of <a href="#frames-checksum">&lt;checksum&gt; </a> after the payload. In
order to include them in the value of the <strong>&lt;size&gt;</strong> layer, also use
<strong>serOffset</strong> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;size name="Size"&gt;
            &lt;int name="SizeField" type="uint16" serOffset="2" displayOffset="2"/&gt;
        &lt;/size&gt;
        &lt;id name="Id"&gt;
            &lt;int name="IdField" type="uint8" /&gt;
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
        &lt;checksum ...&gt;
            &lt;int name="ChecksumField" type="uint16" /&gt;
        &lt;/checksum&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>&lt;size&gt;</strong> layer doesn&#8217;t have
any extra properties in addition to <a href="#frames-common">common</a> ones.</p>
</div>
</div>
<div class="sect2">
<h3 id="frames-sync">&lt;sync&gt; Layer</h3>
<div class="paragraph">
<p>The <strong>&lt;sync&gt;</strong> layer represents synchronization bytes, usually (but not always)
present at the beginning of the <a href="#frames-frames">frame</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;sync name="Sync"&gt;
            &lt;int name="SyncField" type="uint16" defaultValue="0xabcd"&gt;
                &lt;validValue value="0xabcd" /&gt;
                &lt;failOnInvalid value="true" /&gt;
            &lt;/int&gt;
        &lt;/sync&gt;
        &lt;size name="Size"&gt;
            &lt;int name="SizeField" type="uint16" /&gt;
        &lt;/size&gt;
        &lt;id name="Id"&gt;
            &lt;int name="IdField" type="uint8" /&gt;
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example below implements <code>SYNC (2 bytes) | ID (2 bytes) | SIZE (2 bytes) | PAYLOAD</code> framing
where <code>SYNC</code> must be <code>0xab 0xcd</code> bytes. Note, that read of the <code>SyncField</code> will
fail in case its read value is not <code>0xabcd</code>.</p>
</div>
<div class="paragraph">
<p>The <strong>&lt;sync&gt;</strong> layer doesn&#8217;t have
any extra properties in addition to <a href="#frames-common">common</a> ones.</p>
</div>
</div>
<div class="sect2">
<h3 id="frames-checksum">&lt;checksum&gt; Layer</h3>
<div class="paragraph">
<p>The <strong>&lt;checksum&gt;</strong> layer represents checksum bytes, usually (but not always)
present at the end of the <a href="#frames-frames">frame</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;sync name="Sync"&gt;
            ...
        &lt;/sync&gt;
        &lt;size name="Size"&gt;
            ...
        &lt;/size&gt;
        &lt;id name="Id"&gt;
            ...
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
        &lt;checksum name="Checksum" ...&gt;
            &lt;int name="ChecksumField" type="uint16" /&gt;
        &lt;/checksum&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>&lt;checksum&gt;</strong> layer has all the <a href="#frames-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="sect3">
<h4 id="_checksum_algorithm">Checksum Algorithm</h4>
<div class="paragraph">
<p>The checksum calculation algorithm must be specified using <strong>alg</strong>
<a href="#intro-properties">property</a>. Supported values are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>sum</strong> - Sum of all the bytes.</p>
</li>
<li>
<p><strong>crc-ccitt</strong> (aliases: <strong>crc_ccitt</strong>) - <a href="https://en.wikipedia.org/wiki/Cyclic_redundancy_check">CRC-16-CCITT</a>
where polynomial is <code>0x1021</code>, initial value is <code>0xffff</code>, final XOR value is <code>0</code>, and no reflection of bytes.</p>
</li>
<li>
<p><strong>crc-16</strong> (aliases: <strong>crc_16</strong>) - <a href="https://en.wikipedia.org/wiki/Cyclic_redundancy_check">CRC-16-IBM</a>,
where polynomial is <code>0x8005</code>, initial value is <code>0</code>, final XOR value is <code>0</code>, reflection is performed on every
byte as well as final value.</p>
</li>
<li>
<p><strong>crc-32</strong> (aliases: <strong>crc_32</strong>) - <a href="https://en.wikipedia.org/wiki/Cyclic_redundancy_check">CRC-32</a>,
where polynomial is <code>0x04C11DB7</code>, initial value is <code>0xffffffff</code>, final XOR value is <code>0xffffffff</code>, reflection is
performed on every byte as well as final value.</p>
</li>
<li>
<p><strong>custom</strong> - Custom algorithm, code for which needs to be provided to the
code generator, so it can copy it to the generated code.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        ...
        &lt;payload name="Data" /&gt;
        &lt;checksum name="Checksum" alg="crc-16" ...&gt;
            &lt;int name="ChecksumField" type="uint16" /&gt;
        &lt;/checksum&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When <strong>custom</strong> algorithm is selected, its name must be provided using
<strong>algName</strong> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        ...
        &lt;payload name="Data" /&gt;
        &lt;checksum name="Checksum" alg="custom" algName="MyCustomChecksumCalc" ...&gt;
            &lt;int name="ChecksumField" type="uint16" /&gt;
        &lt;/checksum&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The provided name of the custom algorithm can be used by the code generator
to locate the required external implementation file and use appropriate
class / function name when the calculation functionality needs to be invoked.</p>
</div>
</div>
<div class="sect3">
<h4 id="_calculation_area">Calculation Area</h4>
<div class="paragraph">
<p>The <strong>checksum</strong> layer definition must also specify the layers, data of which is
used to calculate the checksum. It is done using <strong>from</strong> property that is
expected to specify name of the layer where checksum calculation starts.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;sync name="Sync"&gt;
            ...
        &lt;/sync&gt;
        &lt;size name="Size"&gt;
            ...
        &lt;/size&gt;
        &lt;id name="Id"&gt;
            ...
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
        &lt;checksum name="Checksum" alg="crc-16" from="Size"&gt;
            &lt;int name="ChecksumField" type="uint16" /&gt;
        &lt;/checksum&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example above defines <code>SYNC | SIZE | ID | PAYLOAD | CHECKSUM</code> frame where
the checksum is calculated on <code>SIZE</code> + <code>ID</code> + <code>PAYLOAD</code> bytes.</p>
</div>
<div class="paragraph">
<p>Some protocols may put checksum value as prefix to the area on which the
checksum needs to be calculated. In this case use <strong>until</strong> property (instead
of <strong>from</strong>) to specify layers for checksum calculation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;sync name="Sync"&gt;
            ...
        &lt;/sync&gt;
        &lt;size name="Size"&gt;
            ...
        &lt;/size&gt;
        &lt;id name="Id"&gt;
            ...
        &lt;/id&gt;
        &lt;checksum name="Checksum" alg="crc-16" until="Data"&gt;
            &lt;int name="ChecksumField" type="uint16" /&gt;
        &lt;/checksum&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_checksum_verification_order">Checksum Verification Order</h4>
<div class="paragraph">
<p>The default behavior of the <strong>&lt;checksum&gt;</strong> layer is to perform calculation
after all relevant layers and their fields have been successfully read and
processed. However, it is possible to
force the checksum verification right away (without reading fields of other layers
and/or message payload).
It is usually possible to do when value of the <a href="#frames-size">&lt;size&gt; </a> field
is already processed, so the right location of checksum value is known,
and it is not included in checksum calculation. To force immediate checksum
verification use <strong>verifyBeforeRead</strong> <a href="#intro-properties">property</a> with
<a href="#intro-boolean">boolean</a> value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;sync name="Sync"&gt;
            ...
        &lt;/sync&gt;
        &lt;size name="Size"&gt;
            ...
        &lt;/size&gt;
        &lt;id name="Id"&gt;
            ...
        &lt;/id&gt;
        &lt;checksum name="Checksum" alg="crc-16" until="Data" verifyBeforeRead="true"&gt;
            &lt;int name="ChecksumField" type="uint16" /&gt;
        &lt;/checksum&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-checksum">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="frames-value">&lt;value&gt; Layer</h3>
<div class="paragraph">
<p>The <strong>&lt;value&gt;</strong> layer represents extra values (such as protocol version
and/or extra flags), that are applicable to
all the messages, but delivered as part of transport <a href="#frames-frames">framing</a> instead
of message payload.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;size name="Size"&gt;
            ...
        &lt;/size&gt;
        &lt;value name="Version" ...&gt;
            &lt;int name="VersionField" type="uint8" /&gt;
        &lt;/value&gt;
        &lt;id name="Id"&gt;
            ...
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>&lt;value&gt;</strong> layer has all the <a href="#frames-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="sect3">
<h4 id="_interfaces">Interfaces</h4>
<div class="paragraph">
<p>In most cases the received value must be reassigned to appropriate field of
the <a href="#interfaces-interfaces">&lt;interface&gt; </a>. To specify the supported
interfaces use <strong>interfaces</strong> <a href="#intro-properties">property</a>. The value
of the property is comma separated list of <a href="#intro-references">reference</a>
names of the supported interfaces.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;interface name="Interface1"&gt;
        &lt;int name="Version" type="uint8" semanticType="version" /&gt;
    &lt;/interface&gt;

    &lt;interface name="Interface2"&gt;
        &lt;int name="Version" type="uint8" semanticType="version" /&gt;
        &lt;set name="Flags"&gt; length="1"&gt;
            ...
        &lt;/set&gt;
    &lt;/interface&gt;


    &lt;frame name="ProtocolFrame"&gt;
        &lt;size name="Size"&gt;
            ...
        &lt;/size&gt;
        &lt;value name="Version" interfaces="Interface1, Interface2" ...&gt;
            &lt;int name="VersionField" type="uint8" /&gt;
        &lt;/value&gt;
        &lt;id name="Id"&gt;
            ...
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case the whole protocol schema contains no more than one <strong>&lt;interface&gt;</strong>
definition, then the usage of the <strong>interfaces</strong> property is not necessary.</p>
</div>
<div class="paragraph">
<p>In addition to specifying the interfaces themselves, there is a need to
specify the field name in the interface(s), that will hold the processed value,
using <strong>interfaceFieldName</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;interface name="Interface1"&gt;
        &lt;int name="Version" type="uint8" semanticType="version" /&gt;
    &lt;/interface&gt;

    &lt;interface name="Interface2"&gt;
        &lt;int name="Version" type="uint8" semanticType="version" /&gt;
        &lt;set name="Flags"&gt; length="1"&gt;
            ...
        &lt;/set&gt;
    &lt;/interface&gt;


    &lt;frame name="ProtocolFrame"&gt;
        &lt;size name="Size"&gt;
            ...
        &lt;/size&gt;
        &lt;value name="Version" interfaces="Interface1, Interface2"&gt;
            &lt;interfaceFieldName value="Version" /&gt;
            &lt;field&gt;
                &lt;int name="VersionField" type="uint8" /&gt;
            &lt;/field&gt;
        &lt;/value&gt;
        &lt;id name="Id"&gt;
            ...
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>, that all the interfaces listed in the <strong>interfaces</strong> property value
must have a field with the name specified as the <strong>interfaceFieldName</strong> value.
Also the specified field&#8217;s index (among other available fields of the <strong>&lt;interface&gt;</strong>)
must be the same for all the listed interfaces.</p>
</div>
</div>
<div class="sect3">
<h4 id="_pseudo_value_layer">Pseudo Value Layer</h4>
<div class="paragraph">
<p>There are protocols that don&#8217;t report protocol version in their transport
framing. Instead, they use some special "connection" message that report
protocol version. As the result, all subsequent messages must adhere to the
reported version. The <strong>CommsDSL</strong> resolves this problem by defining
<strong>pseudo</strong> <strong>&lt;value&gt;</strong> layer using <strong>pseudo</strong> <a href="#intro-properties">property</a>
with <a href="#intro-boolean">boolean</a> value. The field of the pseudo <strong>&lt;value&gt;</strong> layer
does not get serialized. However, the code generator must allow external
assignment of the required value to the private data members of the
<strong>&lt;value&gt;</strong> layer&#8217;s class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;interface name="Interface1"&gt;
        &lt;int name="Version" type="uint8" semanticType="version" /&gt;
    &lt;/interface&gt;

    &lt;message name="Connect" id="1"&gt;
        &lt;int name="ProtocolVersion" type="uint8" /&gt;
    &lt;/message&gt;

    &lt;frame name="ProtocolFrame"&gt;
        &lt;size name="Size"&gt;
            ...
        &lt;/size&gt;
        &lt;id name="Id"&gt;
            ...
        &lt;/id&gt;
        &lt;value name="Version" interfaces="Interface1" pseudo="true"&gt;
            &lt;interfaceFieldName value="Version" /&gt;
            &lt;field&gt;
                &lt;int name="VersionField" type="uint8" /&gt;
            &lt;/field&gt;
        &lt;/value&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The location of the pseudo <strong>&lt;value&gt;</strong> layer within the <strong>&lt;frame&gt;</strong>
is not important. It is recommended to define it right before the <strong>&lt;payload&gt;</strong>
layer.</p>
</div>
<div class="paragraph">
<p>As part of processing <strong>Connect</strong> message in the example above, the client code
is expected to retrieve the value of the <strong>ProtocolVersion</strong> field and report
it to the pseudo <strong>&lt;value&gt;</strong> layer within the processing frame. For
all the subsequent messaged, the pseudo <strong>&lt;value&gt;</strong> layer is responsible
to assign appropriate value (version in the example above) to the newly created
message object before message payload gets read. This is because such values
may have an influence on how the <strong>read</strong> operation is executed (existence of
some fields may depend on the assigned value).</p>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-value">properties table</a> for future references.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="frames-custom">&lt;custom&gt; Layer</h3>
<div class="paragraph">
<p>The <strong>&lt;custom&gt;</strong> layer represent any other protocol specific layer,
functionality of which cannot be impelemented using other provided layers.
The code generator must allow injection of the externally implemented code
of the layer functionality when generating code relevant to the
transport <a href="#frames-frames">framing</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;size name="Size"&gt;
            ...
        &lt;/size&gt;
        &lt;custom name="SomeCustomLayer"&gt;
            &lt;int name="SomeField" type="uint8" /&gt;
        &lt;/custom&gt;
        &lt;id name="Id"&gt;
            ...
        &lt;/id&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <strong>&lt;value&gt;</strong> layer has all the <a href="#frames-common">common</a> properties
as well as extra properties and elements described below.</p>
</div>
<div class="sect3">
<h4 id="_id_replacement">ID Replacement</h4>
<div class="paragraph">
<p>Most protocol frames are expected to use <a href="#frames-id">&lt;id&gt; </a> layer to
process numeric ID of the message. However, there are protocols that may
use the same field not only for numeric ID, but also for some extra flags.
In this case <a href="#frames-id">&lt;id&gt; </a> layer cannot be used, because it expects the
whole field to be dedicated to storage of the numeric ID. In such case
<strong>&lt;custom&gt;</strong> layer needs to be used but marked as one replacing the
<a href="#frames-id">&lt;id&gt; </a> with <strong>idReplacement</strong> <a href="#intro-properties">property</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema endian="big" ...&gt;
    &lt;frame name="ProtocolFrame"&gt;
        &lt;size name="Size"&gt;
            ...
        &lt;/size&gt;
        &lt;custom name="IdAndFlags" idReplacement="true"&gt;
            &lt;bitfield name="IdAndFlagsField"&gt;
                &lt;int name="Id" type="uint16" bitLength="12" /&gt;
                &lt;set name="Flags" bitLength="4"&gt;
                    ...
                &lt;/set&gt;
            &lt;/bitfield&gt;
        &lt;/custom&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use <a href="#appendix-custom">properties table</a> for future references.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="versioning-versioning">Protocol Versioning Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter summarizes all version related aspects of the protocol definition.</p>
</div>
<div class="sect2">
<h3 id="_version_of_the_schema">Version of the Schema</h3>
<div class="paragraph">
<p>The protocol definition <a href="#schema-schema">&lt;schema&gt; </a> has the
<strong>version</strong> <a href="#intro-properties">property</a>, that specifies numeric version of the
protocol.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" version="5"&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_in_the_interface">Version in the Interface</h3>
<div class="paragraph">
<p>If protocol reports its version via transport <a href="#frames-frames">framing</a> or
via some special "connection" <a href="#messages-messages">message</a>, and the
protocol version must influence how some messages are deserialized / handled, then
there is a need for <a href="#interfaces-interfaces">&lt;interface&gt; </a> definition,
which must contain version field, marked as such using <strong>semanticType="version"</strong>
property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" version="5"&gt;
    &lt;interface name="Interface"&gt;
        &lt;int field="SomeName" type="uint16" semanticType="version" /&gt;
    &lt;/interface&gt;
    ...
&lt;/schema&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_version_in_the_frame">Version in the Frame</h3>
<div class="paragraph">
<p>In addition to the <a href="#interfaces-interfaces">&lt;interface&gt; </a> containing
version information, the transport <a href="#frames-frames">&lt;frame&gt; </a> is also
expected to contain <a href="#frames-value">&lt;value&gt; </a> layer, which will
reassign the received version information to the message object (via
<a href="#interfaces-interfaces">&lt;interface&gt; </a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" version="5"&gt;
    &lt;interface name="Interface"&gt;
        &lt;int field="SomeName" type="uint16" semanticType="version" /&gt;
    &lt;/interface&gt;

    &lt;frame name="Frame"&gt;
        &lt;size name="Size"&gt;
            &lt;int name="SizeField" type="uint16" serOffset="2"/&gt;
        &lt;/size&gt;
        &lt;id name="Id"&gt;
            &lt;int name="IdField" type="uint8" /&gt;
        &lt;/id&gt;
        &lt;value name="Version" interfaces="Interface" interfaceFieldName="SomeName"&gt;
            &lt;int name="VersionField" type="uint16" /&gt;
        &lt;/value&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Even if the protocol version is communicated in one of the messages and the
real <a href="#frames-frames">framing</a> doesn&#8217;t really contain any version information,
it still should be defined with similar <a href="#frames-value">&lt;value&gt; </a> layer, but
marked as <strong>pseudo</strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;schema name="MyProtocol" version="5"&gt;
    &lt;interface name="Interface"&gt;
        &lt;int field="SomeName" type="uint16" semanticType="version" /&gt;
    &lt;/interface&gt;

    &lt;frame name="Frame"&gt;
        &lt;size name="Size"&gt;
            &lt;int name="SizeField" type="uint16" serOffset="2"/&gt;
        &lt;/size&gt;
        &lt;id name="Id"&gt;
            &lt;int name="IdField" type="uint8" /&gt;
        &lt;/id&gt;
        &lt;value name="Version" interfaces="Interface" interfaceFieldName="SomeName" pseudo="true"&gt;
            &lt;int name="VersionField" type="uint16" /&gt;
        &lt;/value&gt;
        &lt;payload name="Data" /&gt;
    &lt;/frame&gt;
&lt;/schema&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The generated code is expected to allow external assignment of the protocol
version information (once it&#8217;s known) to inner data structures of appropriate
<a href="#frames-value">&lt;value&gt; </a> framing layer, which in turn is responsible to
re-assign the relevant version information to every subsequent message object when it&#8217;s
created, but before the message payload being read.</p>
</div>
</div>
<div class="sect2">
<h3 id="_version_of_the_fields_and_messages">Version of the Fields and Messages</h3>
<div class="paragraph">
<p>Every <a href="#messages-messages">message</a> and <a href="#fields-fields">field</a> support
the following properties, wich can be used to supply version related information.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>sinceVersion</strong> - Version when the message / field has been introduced.</p>
</li>
<li>
<p><strong>deprecated</strong> - Version when the message / field has been deprecated.</p>
</li>
<li>
<p><strong>removed</strong> - Indication that deprecated message / field must be removed from
serialization and code generation.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_dependency_of_the_code">Version Dependency of the Code</h3>
<div class="paragraph">
<p>The generated code is expected to be version dependent (i.e. presence of some
messages / fields is determined by the reported version value), if <strong>at least</strong> one
of the defined <a href="#interfaces-interfaces">&lt;interface&gt; </a>-es contains
version field (marked by <strong>semanticType="version"</strong>).</p>
</div>
<div class="paragraph">
<p>If none of the interfaces has such field, then the generated code cannot be
version dependent and all the version related properties become for documentation
purposes only and cannot influence the presence of the messages / fields. In
such cases the code generator is expected to receive required protocol version in
its command line parameters and generate code for requested protocol version.</p>
</div>
</div>
<div class="sect2">
<h3 id="_compatibility_recommendation">Compatibility Recommendation</h3>
<div class="paragraph">
<p>In case <strong>CommsDSL</strong> is used to define new protocol developed from scratch and
backward / forward compatibility of the protocol is a desired feature, then
there are few simple rules below, following of which can insure such compatibility.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <a href="#frames-size">&lt;size&gt; </a> layer in the transport
<a href="#frames-frames">framing</a> to report remaining length of the message.</p>
</li>
<li>
<p>Use <a href="#frames-value">&lt;value&gt; </a> layer to report protocol version
in the transport <a href="#frames-frames">framing</a> or define special "connect"
message that is sent to establish connection and report protocol version
(mark the <a href="#frames-value">&lt;value&gt; </a> layer to be <strong>pseudo</strong>).</p>
</li>
<li>
<p>Always add new <a href="#fields-fields">fields</a> at the end of the
<a href="#messages-messages">&lt;message&gt; </a>. Don&#8217;t forget to specify their
version using <strong>sinceVersion</strong> property.</p>
</li>
<li>
<p>Don&#8217;t <strong>remove</strong> deprecated <a href="#fields-fields">fields</a>.</p>
</li>
<li>
<p>Always add new <a href="#fields-fields">fields</a> at the end of the
<a href="#fields-list">&lt;list&gt; </a> element.</p>
</li>
<li>
<p>Add element serialization length report before every
element of the <a href="#fields-list">&lt;list&gt; </a> field (using
<strong>elemLengthPrefix</strong> property).</p>
</li>
<li>
<p>In case <strong>elemFixedLength</strong> <a href="#intro-properties">property</a> is
assigned for the <a href="#fields-list">&lt;list&gt; </a> (to avoid
redundant report of the same element length before every element), never
add variable length <a href="#fields-fields">fields</a> to the element of the list.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix-appendix">Appendix</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter contains list of properties for all the elements described earlier
in this document for a quick reference.</p>
</div>
<div class="sect2">
<h3 id="appendix-schema">Properties of &lt;schema&gt;</h3>
<div class="paragraph">
<p>Refer to <a href="#schema-schema">Schema</a> chapter for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the protocol. Allowed to have spaces.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>endian</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"big" or "little"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">little</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endian of the protocol.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable description of the protocol.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>version</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>dslVersion</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the used DSL.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>nonUniqueMsgIdAllowed</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow non-unique numeric message IDs.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-fields">Common Properties of Fields</h3>
<div class="paragraph">
<p>Refer to <a href="#fields-common">Common Properties of Fields</a> chapter for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the field.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable description of the field.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>reuse</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-references">reference</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field definition of which to copy.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayName</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the field to display. If empty, the code generator must use value of property <strong>name</strong> instead. In order to force empty name to display, use "_" (underscore).</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayReadOnly</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disable modification of the field in visual analysis tool(s).</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayHidden</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Don&#8217;t display field at all in visual analysis tool(s).</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>sinceVersion</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which field was introduced.<br>
Applicable only to members of the <a href="#messages-messages">&lt;message&gt; </a> or <a href="#fields-bundle">&lt;bundle&gt; </a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>deprecated</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">max unsigned</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which field was deprecated.<br>
Must be greater than value of <strong>sinceVersion</strong>.<br>
Applipable only to members of the <a href="#messages-messages">&lt;message&gt; </a> or <a href="#fields-bundle">&lt;bundle&gt; </a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>removed</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates whether deprecated field has been removed from being serialized.<br>
Applicable only to members of the <a href="#messages-messages">&lt;message&gt; </a> or <a href="#fields-bundle">&lt;bundle&gt; </a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>failOnInvalid</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fail <strong>read</strong> operation if read value is invalid.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>pseudo</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In case of <strong>true</strong>, don&#8217;t serialize/deserialize this field.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>customizable</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mark the field to allow compile time customization regardless of code generator&#8217;s level of customization.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>semanticType</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"none", "messageId", "version", "length"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify semantic type of the field. It allows code generator to generate special code for special cases. Value "length" was introduced in <strong>v2</strong> of this specification.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>forceGen</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Force generation of field&#8217;s code regardless of it&#8217;s being referenced or not.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-enum">Properties of &lt;enum&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;enum&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-enum">&lt;enum&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>type</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"int8", "uint8", "int16", "uint16", "int32", "uint32", "int64", "uint64", "intvar", "uintvar"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Underlying primitive type.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>defaultValue</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a> or <a href="#intro-names">name</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default value. Must fit the underlying <strong>type</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>endian</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"big" or "little"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">endian of <a href="#schema-schema">schema</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endian of the field.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>length</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">length of <strong>type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forced serialization length.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>bitLength</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">length of <strong>type</strong> in bits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serialization length in bits, applicable only to a member of <a href="#fields-bitfield">&lt;bitfield&gt; </a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>hexAssign</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Force generated code to assign enum values using hexadecimal numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>nonUniqueAllowed</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow non unique <strong>&lt;validValue&gt;</strong>-es.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validCheckVersion</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Take into account protocol version when generating code for field&#8217;s value validity check.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_properties_of_validvalue_child_element_of_enum_field">Properties of &lt;validValue&gt; Child Element of &lt;enum&gt; Field</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>val</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable description of the value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayName</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable name of the value to display in various analysis tools.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>sinceVersion</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which value was introduced.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>deprecated</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">max unsigned</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which value was deprecated.<br>
Must be greater than value of <strong>sinceVersion</strong>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="appendix-int">Properties of &lt;int&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;int&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-int">&lt;int&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>type</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"int8", "uint8", "int16", "uint16", "int32", "uint32", "int64", "uint64", "intvar", "uintvar"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Underlying primitive type.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>defaultValue</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a> or <a href="#intro-names">name</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default value. Must fit the underlying <strong>type</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>endian</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"big" or "little"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">endian of <a href="#schema-schema">schema</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endian of the field.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>length</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">length of <strong>type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forced serialization length.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>bitLength</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">length of <strong>type</strong> in bits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serialization length in bits, applicable only to a member of <a href="#fields-bitfield">&lt;bitfield&gt; </a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>serOffset</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extra value that needs to be added to the field&#8217;s value when the latter is being serialized.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>signExt</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable / Disable sign extension of the signed value when <strong>length</strong> property is used to reduce the default serialization length.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>scaling</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"<a href="#intro-numeric">numeric</a> / <a href="#intro-numeric">numeric</a>"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1/1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scaling ratio.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>units</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#appendix-units">units</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Units of the value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validRange</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"[ <a href="#intro-numeric">numeric</a>, <a href="#intro-numeric">numeric</a> ]"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Range of valid values.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validValue</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valid value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validMin</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valid minimal value. All the numbers above it are considered to be valid.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validMax</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valid maximal value. All the numbers below it are considered to be valid.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validCheckVersion</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Take into account protocol version when generating code for field&#8217;s value validity check.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayDecimals</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates to GUI analysis tools to display this field as floating point value with specified number of digits after the fraction point.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayOffset</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates to GUI analysis tools to add specified offset value to a field&#8217;s value when displaying it.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>nonUniqueSpecialsAllowed</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow non unique <strong>&lt;special&gt;</strong>-s.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displaySpecials</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control displaying <strong>&lt;special&gt;</strong> values in analysis tools.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_properties_of_special_child_element_of_int_field">Properties of &lt;special&gt; Child Element of &lt;int&gt; Field</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>val</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable description of the value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>sinceVersion</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which value was introduced.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>deprecated</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">max unsigned</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which value was deprecated.<br>
Must be greater than value of <strong>sinceVersion</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayName</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name to display in various analysis tools.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="appendix-set">Properties of &lt;set&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;set&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-set">&lt;set&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 24%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>type</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"uint8", "uint16", "uint32", "uint64"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes (no if <strong>length</strong> is specified)</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Underlying primitive type.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>length</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes (no if <strong>type</strong> is specifed)</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">length of <strong>type</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serialization length.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>bitLength</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">length of <strong>type</strong> in bits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serialization length in bits, applicable only to a member of <a href="#fields-bitfield">&lt;bitfield&gt; </a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>defaultValue</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default initialization value of every bit.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>reservedValue</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expected value of every reserved bit.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>endian</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"big" or "little"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">endian of <a href="#schema-schema">schema</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endian of the field.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>nonUniqueAllowed</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow non unique <strong>&lt;bit&gt;</strong>-s.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validCheckVersion</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Take into account protocol version when generating code for field&#8217;s value validity check.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_properties_of_bit_child_element_of_set_field">Properties of &lt;bit&gt; Child Element of &lt;set&gt; Field</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 14%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>idx</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Index of the specified bit. Counting starts from least significant bit.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable description of the bit.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayName</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable name of the bit to display in various analysis tools.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>defaultValue</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>defaultValue</strong> of the <strong>&lt;set&gt;</strong> field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default value of the bit (when constructed).</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>reservedValue</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>reservedValue</strong> of the <strong>&lt;set&gt;</strong> field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expected value of the bit if it is reserved.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>reserved</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mark / Unmark the bit as being reserved.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>sinceVersion</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which bit was introduced (became non-reserved).</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>deprecated</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">max unsigned</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which bit was deprecated (became reserved).<br>
Must be greater than value of <strong>sinceVersion</strong>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="appendix-bitfield">Properties of &lt;bitfield&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;bitfield&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-bitfield">&lt;bitfield&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>endian</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"big" or "little"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">endian of <a href="#schema-schema">schema</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endian of the field.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Extra child XML elements allowed:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">XML Element</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;members&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wraps member fields.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-bundle">Properties of &lt;bundle&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;bundle&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-bundle">&lt;bundle&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>reuseAliases</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control copy of the defined <a href="#aliases-aliases">aliases</a> from reused other <a href="#fields-bundle">&lt;bundle&gt; </a> when  <strong>reuse</strong> property is used.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Extra child XML elements allowed:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">XML Element</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;members&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wraps member fields.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;alias&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alias names for other member fields. See <a href="#aliases-aliases">Aliases</a> for more info.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-string">Properties of &lt;string&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;string&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-string">&lt;string&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>defaultValue</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>length</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed serialization length. <strong>0</strong> means no length limit. Cannot be used tegether with <strong>lengthPrefix</strong> or <strong>zeroTermSuffix</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>lengthPrefix</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#fields-fields">field</a> or <a href="#intro-references">reference</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix field containing length of the string. Cannot be used tegether with <strong>length</strong> or <strong>zeroTermSuffix</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>zeroTermSuffix</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Terminate string with <strong>0</strong>. Cannot be used tegether with <strong>length</strong> or <strong>lengthPrefix</strong>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-data">Properties of &lt;data&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;data&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-data">&lt;data&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>defaultValue</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default value. Case-insensitive hexadecimal string.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>length</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed serialization length. <strong>0</strong> means no length limit. Cannot be used tegether with <strong>lengthPrefix</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>lengthPrefix</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#fields-fields">field</a> or <a href="#intro-references">reference</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix field containing length of the data. Cannot be used tegether with <strong>length</strong>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-list">Properties of &lt;list&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;list&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-list">&lt;list&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>element</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#fields-fields">field</a> or <a href="#intro-references">reference</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Element of the field.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>count</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed number of elements in the list. Cannot be used tegether with <strong>lengthPrefix</strong> or <strong>countPrefix</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>countPrefix</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#fields-fields">field</a> or <a href="#intro-references">reference</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix field containing number of elements in the list. Cannot be used tegether with <strong>count</strong> or <strong>lengthPrefix</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>lengthPrefix</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#fields-fields">field</a> or <a href="#intro-references">reference</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix field containing serialization length of the list. Cannot be used tegether with <strong>count</strong> or <strong>countPrefix</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>elemLengthPrefix</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#fields-fields">field</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix field containing serialization length of the list <strong>element</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>elemFixedLength</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indication of whether list has and will allways have fixed length element, so <strong>elemLengthPrefix</strong> prefixes only the first element and not the rest.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-float">Properties of &lt;float&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;float&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-float">&lt;float&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>type</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"float", "double"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Underlying primitive type</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>defaultValue</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">floating point value, <strong>nan</strong>, <strong>inf</strong>, <strong>-inf</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default value. Must fit the underlying <strong>type</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>endian</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"big" or "little"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">endian of <a href="#schema-schema">schema</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endian of the field.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>units</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#appendix-units">units</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Units of the value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validRange</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"[ fp_value, fp_value ]"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Range of valid values.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validValue</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">floating point value, <strong>nan</strong>, <strong>inf</strong>, <strong>-inf</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valid value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validMin</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">floating point value</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valid minimal value. All the numbers above it are considered to be valid.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validMax</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">floating point value</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valid maximal value. All the numbers below it are considered to be valid.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validFullRange</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mark all the range of existing FP values to be valid, excluding <strong>nan</strong>, <strong>inf</strong>, and <strong>-inf</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>validCheckVersion</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Take into account protocol version when generating code for field&#8217;s value validity check.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayDecimals</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates to GUI analysis how many digits need to be displayed after the fraction point.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>nonUniqueSpecialsAllowed</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow non unique <strong>&lt;special&gt;</strong>-s.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displaySpecials</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control displaying <strong>&lt;special&gt;</strong> values in analysis tools.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_properties_of_special_child_element_of_float_field">Properties of &lt;special&gt; Child Element of &lt;float&gt; Field</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>val</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">floating point value, <strong>nan</strong>, <strong>inf</strong>, <strong>-inf</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable description of the value.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>sinceVersion</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which value was introduced.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>deprecated</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">max unsigned</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which value was deprecated.<br>
Must be greater than value of <strong>sinceVersion</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayName</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name to display in various analysis tools.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="appendix-ref">Properties of &lt;ref&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;ref&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-ref">&lt;ref&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>field</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-references">reference</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference to other field.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>bitLength</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">length in bits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serialization length in bits, applicable only to a member of <a href="#fields-bitfield">&lt;bitfield&gt; </a> and when referencing a field that can be a member of <a href="#fields-bitfield">&lt;bitfield&gt; </a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-optional">Properties of &lt;optional&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;optional&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-optional">&lt;optional&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>field</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#fields-fields">field</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wrapped field.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>defaultMode</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"tentative", "missing", "exist"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">tentative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default mode of the field. See also <a href="#appendix-optional-default-mode">Default Mode Strings</a> below.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>cond</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Condition when the field exists.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayExtModeCtrl</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disable manual update of the mode in GUI analysis tools.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Inner field must be specified using <strong>field</strong> property or as
child XML element.</p>
</div>
<div class="paragraph">
<p>Extra child XML elements allowed:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">XML Element</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;field&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wraps member field.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;cond&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Condition when field exists.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;and&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical "and" of conditions.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;or&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical "or" of conditions.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="appendix-optional-default-mode">Default Mode Strings</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Mode</th>
<th class="tableblock halign-center valign-middle">Accepted Values (case insensitive)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Tentative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"tentative", "tent", "t"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"missing", "miss", "m"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Exist</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"exist", "exists", "e"</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="appendix-variant">Properties of &lt;variant&gt; Field</h3>
<div class="paragraph">
<p>The <strong>&lt;variant&gt;</strong> field has all the <a href="#appendix-fields">common</a> properties as
well as ones listed below. Refer to <a href="#fields-variant">&lt;variant&gt; Field</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>defaultMember</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> or <a href="#intro-numeric">numeric</a> index</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default member. Negative number means no member selected.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayIdxReadOnlyHidden</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hide active index of the member when field displayed in read-only mode.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Extra child XML elements allowed:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">XML Element</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;members&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wraps member fields.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-units">Units</h3>
<div class="paragraph">
<p>The tables below contain lists of available units.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Units Name</th>
<th class="tableblock halign-center valign-middle">Accepted Values (case insensitive)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Unknown / None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>empty string</em></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_time_units">Time Units</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Units Name</th>
<th class="tableblock halign-center valign-middle">Accepted Values (case insensitive)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Nanoseconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"ns", "nanosec", "nanosecs", "nanosecond", "nanoseconds"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Microseconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"us", "microsec", "microsecs", "microsecond", "microseconds"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Milliseconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"ms", "millisec", "millisecs", "millisecond", "milliseconds"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"s", "sec", "secs", "second", "seconds"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Minutes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"min", "mins", "minute", "minutes"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Hours</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"h", "hour", "hours"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Days</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"d", "day", "days"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Weeks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"w", "week", "weeks"</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_distance_units">Distance Units</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Units Name</th>
<th class="tableblock halign-center valign-middle">Accepted Values (case insensitive)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Nanometers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"nm", "nanometer", "nanometre", "nanometers", "nanometres"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Micrometers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"um", "micrometer", "micrometre", "micrometers", "micrometres"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Millimeters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"mm", "millimeter", "millimetre, "millimeters", "millimetres"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Centimeters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"cm", "centimeter", "centimetre", "centimeters", "centimetres"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Meters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"m", "meter", "metre", "meters", "metres"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Kilometers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"km", "kilometer", "kilometre", "kilometers", "kilometres"</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_speed_units">Speed Units</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Units Name</th>
<th class="tableblock halign-center valign-middle">Accepted Values (case insensitive)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Nanometers Per Second</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"nm/s", "nmps", "nanometer/second", "nanometre/second", "nanometers/second", "nanometres/second"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Micrometers Per Second</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"um/s", "umps", "micrometers/second", "micrometres/second", "micrometer/second", "micrometre/second"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Millimeters Per Second</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"mm/s", "mmps", "millimeter/second", "millimetre/second", "millimeters/second", "millimetres/second"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Centimeters Per Second</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"cm/s", "cmps", "centimeter/second", "centimetre/second", "centimeters/second", "centimetres/second"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Meters Per Second</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"m/s", "mps", "meter/second", "metre/second", "meters/second", "metres/second"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Kilometers Per Second</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"km/s", "kmps", "kps", "kilometer/second", "kilometre/second", "kilometers/second", "kilometres/second"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Kilometers Per Hour</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"km/h", "kmph", "kph", "kilometer/hour", "kilometre/hour", "kilometers/hour", "kilometres/hour"</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_frequency_units">Frequency Units</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Units Name</th>
<th class="tableblock halign-center valign-middle">Accepted Values (case insensitive)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Hertz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"hz", "hertz"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Kilohertz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"khz", "kilohertz"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Megahertz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"mhz", "megahertz"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Gigahertz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"ghz", "gigahertz"</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_angle_units">Angle Units</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Units Name</th>
<th class="tableblock halign-center valign-middle">Accepted Values (case insensitive)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Degrees</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"deg", "degree", "degrees"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Radians</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"rad", "radian", "radians"</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_electrical_current_units">Electrical Current Units</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Units Name</th>
<th class="tableblock halign-center valign-middle">Accepted Values (case insensitive)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Nanoamperes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"na", "nanoamp", "nanoamps", "nanoampere", "nanoamperes"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Microamperes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"ua", "microamp", "microamps", "microampere", "microamperes"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Milliamperes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"ma", "milliamp", "milliamps", "milliampere", "milliamperes"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Amperes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"a", "amp", "amps", "ampere", "amperes"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Kiloamperes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"ka", "kiloamp", "kiloamps", "kiloampere", "kiloamperes"</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_electrical_voltage_units">Electrical Voltage Units</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Units Name</th>
<th class="tableblock halign-center valign-middle">Accepted Values (case insensitive)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Nanovolts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"nv", "nanovolt", "nanovolts"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Microvolts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"uv", "microvolt", "microvolts"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Millivolts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"mv", "millivolt", "millivolts"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Volts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"v", "volt", "volts"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Kilovolts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"kv", "kilovolt", "kilovolts"</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_computer_memory_units">Computer Memory Units</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Units Name</th>
<th class="tableblock halign-center valign-middle">Accepted Values (case insensitive)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Bytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"b", "byte", "bytes"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Kilobytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"kb", "kilobyte", "kilobytes"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Megabytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"mb", "megabyte", "megabytes"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Gigabytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"gb", "gigabyte", "gigabytes"</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Terabytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"tb", "terabyte", "terabytes"</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="appendix-message">Properties of &lt;message&gt;</h3>
<div class="paragraph">
<p>Refer to <a href="#messages-messages">Messages</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>id</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numeric ID of the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable description of the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>displayName</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the message to display. If empty, the code generator must use value of property <strong>name</strong> instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>copyFieldsFrom</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-references">reference</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message definition from which fields need to be copied.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>order</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">numeric</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative order of the messages with the same <strong>id</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>sinceVersion</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which message was introduced.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>deprecated</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-numeric">unsigned</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">max unsigned</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the protocol in which message was deprecated.<br>
Must be greater than value of <strong>sinceVersion</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>removed</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates whether deprecated message has been removed from being supported.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>sender</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"both", "client", "server"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">both</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endpoint that sends the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>customizable</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mark the message to allow compile time customization regardless of code generator&#8217;s level of customization.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>copyFieldsAliases</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control copy of the defined <a href="#aliases-aliases">aliases</a> when <strong>copyFieldsFrom</strong> property is used to copy fields from the other <a href="#messages-messages">&lt;message&gt; </a>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Extra child XML elements allowed:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">XML Element</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;fields&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wraps member fields.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;alias&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alias names for other member fields. See <a href="#aliases-aliases">Aliases</a> for more info.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-interface">Properties of &lt;interface&gt;</h3>
<div class="paragraph">
<p>Refer to <a href="#interfaces-interfaces">Interfaces</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable description of the interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>copyFieldsFrom</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-references">reference</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface definition from which fields need to be copied.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>copyFieldsAliases</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control copy of the defined <a href="#aliases-aliases">aliases</a> when <strong>copyFieldsFrom</strong> property is used to copy fields from the other <a href="#interfaces-interfaces">&lt;interface&gt; </a>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Extra child XML elements allowed:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">XML Element</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;fields&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wraps member fields.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;alias&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alias names for other member fields. See <a href="#aliases-aliases">Aliases</a> for more info.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-alias">Properties of &lt;alias&gt;</h3>
<div class="paragraph">
<p>Refer to <a href="#aliases-aliases">Aliases</a> chapter for detailed description.
Introduced in DSL version <strong>3</strong>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the alias.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable description of the alias.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>field</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">relative <a href="#intro-references">reference</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference to the aliased field, must start with <code>$</code> character.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-frame">Properties of &lt;frame&gt;</h3>
<div class="paragraph">
<p>Refer to <a href="#frames-frames">Frames</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the frame.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable description of the frame.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Extra child XML elements allowed:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">XML Element</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>&lt;layers&gt;</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wraps member layers.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-layers">Common Properties of Frame Layers</h3>
<div class="paragraph">
<p>Refer to <a href="#frames-common">Common Properties of Layers</a> chapter for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the layer.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>description</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Human readable description of the layer.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>field</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#fields-fields">field</a> or <a href="#intro-references">reference</a> to it</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes (except for <a href="#frames-payload">&lt;payload&gt; </a>)</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wrapped field definition.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-checksum">Properties of &lt;checksum&gt; Frame Layer</h3>
<div class="paragraph">
<p>The <strong>&lt;checksum&gt;</strong> layer has all the <a href="#appendix-layers">common</a> properties as
well as ones listed below. Refer to <a href="#frames-checksum">&lt;checksum&gt; Layer</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>alg</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">"sum", "crc-ccitt", "crc-16", "crc-32", "custom"</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Checksum calculation algorithm.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>algName</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no (unless <strong>alg</strong> is <strong>custom</strong>)</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the custom algorithm. Applicable only if <strong>alg="custom"</strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>from</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes (only if <strong>until</strong> is not specified)</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the frame layer, from which the checksum calculation starts.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>until</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes (only if <strong>from</strong> is not specified)</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the frame layer, until (and including) which the checksum calculation is executed.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>verifyBeforeRead</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perform checksum verification without reading values of other layers.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-value">Properties of &lt;value&gt; Frame Layer</h3>
<div class="paragraph">
<p>The <strong>&lt;value&gt;</strong> layer has all the <a href="#appendix-layers">common</a> properties as
well as ones listed below. Refer to <a href="#frames-value">&lt;value&gt; Layer</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>interfaces</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">comma separated list of <a href="#intro-names">names</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of supported <a href="#interfaces-interfaces">&lt;interface&gt; </a>-es.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>interfaceFieldName</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-names">name</a> string</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">yes (only if <strong>interfaces</strong> is not empty)</p></td>
<td class="tableblock halign-center valign-middle"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the relevant field inside each <a href="#interfaces-interfaces">&lt;interface&gt; </a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>pseudo</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mark the layer as <strong>pseudo</strong> one, i.e. one that doesn&#8217;t serialize its field.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-custom">Properties of &lt;custom&gt; Frame Layer</h3>
<div class="paragraph">
<p>The <strong>&lt;custom&gt;</strong> layer has all the <a href="#appendix-layers">common</a> properties as
well as ones listed below. Refer to <a href="#frames-custom">&lt;custom&gt; Layer</a> chapter
for detailed description.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 10%;">
<col style="width: 8%;">
<col style="width: 8%;">
<col style="width: 10%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">Property Name</th>
<th class="tableblock halign-center valign-middle">Allowed Type / Value</th>
<th class="tableblock halign-center valign-middle">DSL Version</th>
<th class="tableblock halign-center valign-middle">Required</th>
<th class="tableblock halign-center valign-middle">Default Value</th>
<th class="tableblock halign-center valign-middle">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><strong>idReplacement</strong></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><a href="#intro-boolean">bool</a></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">no</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mark the layer as one replacing <a href="#frames-id">&lt;id&gt; </a>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 3.1.2<br>
Last updated 2020-10-18 12:48:18 UTC
</div>
</div>
</body>
</html>